<!DOCTYPE html><html lang="zh" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>YOLO系列论文解读(v1-v9) | 遗世独立</title><meta name="author" content="神火不知灭"><meta name="copyright" content="神火不知灭"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="[TOC] YOLO 简史    YOLO（You Only Look Once）是一种流行的目标检测和图像分割模型，于 2015 年推出，因其高速和高精度而广受欢迎。   YOLOv2于2016年发布，通过引入批量归一化(batch normalization)、锚框(anchor boxes)和维度聚类(dimension clusters)，改进了原始模型。   YOLOv3于2018年推出">
<meta property="og:type" content="article">
<meta property="og:title" content="YOLO系列论文解读(v1-v9)">
<meta property="og:url" content="http://blog.sunlingzhang.com/2026/02/03/Paper/YOLO%E7%B3%BB%E5%88%97%E8%AE%BA%E6%96%87%E8%A7%A3%E8%AF%BB/index.html">
<meta property="og:site_name" content="遗世独立">
<meta property="og:description" content="[TOC] YOLO 简史    YOLO（You Only Look Once）是一种流行的目标检测和图像分割模型，于 2015 年推出，因其高速和高精度而广受欢迎。   YOLOv2于2016年发布，通过引入批量归一化(batch normalization)、锚框(anchor boxes)和维度聚类(dimension clusters)，改进了原始模型。   YOLOv3于2018年推出">
<meta property="og:locale">
<meta property="og:image" content="http://blog.sunlingzhang.com/admin_head.jpg">
<meta property="article:published_time" content="2026-02-03T07:32:00.000Z">
<meta property="article:modified_time" content="2026-02-12T10:34:06.980Z">
<meta property="article:author" content="神火不知灭">
<meta property="article:tag" content="CV">
<meta property="article:tag" content="Detection">
<meta property="article:tag" content="YOLO">
<meta property="article:tag" content="paper">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.sunlingzhang.com/admin_head.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "YOLO系列论文解读(v1-v9)",
  "url": "http://blog.sunlingzhang.com/2026/02/03/Paper/YOLO%E7%B3%BB%E5%88%97%E8%AE%BA%E6%96%87%E8%A7%A3%E8%AF%BB/",
  "image": "http://blog.sunlingzhang.com/admin_head.jpg",
  "datePublished": "2026-02-03T07:32:00.000Z",
  "dateModified": "2026-02-12T10:34:06.980Z",
  "author": [
    {
      "@type": "Person",
      "name": "神火不知灭",
      "url": "http://blog.sunlingzhang.com"
    }
  ]
}</script><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://blog.sunlingzhang.com/2026/02/03/Paper/YOLO%E7%B3%BB%E5%88%97%E8%AE%BA%E6%96%87%E8%A7%A3%E8%AF%BB/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'YOLO系列论文解读(v1-v9)',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/admin_head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">64</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">64</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">3</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/%E5%85%A5%E9%97%A8%E5%AE%9E%E8%B7%B5/"><i class="fa-fw fas fa-keyboard"></i><span> 入门实践</span></a></div><div class="menus_item"><a class="site-page" href="/tags/%E9%9A%8F%E7%AC%94/"><i class="fa-fw fas fa-edit"></i><span> 随笔</span></a></div><div class="menus_item"><a class="site-page" href="/tags/paper/"><i class="fa-fw fal fa-paperclip"></i><span> 论文解读</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> 计算机</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/algorithm/"><i class="fa-fw fas fa-code"></i><span> 算法</span></a></li><li><a class="site-page child" href="/data-structure/"><i class="fa-fw fas fa-terminal"></i><span> 数据结构</span></a></li><li><a class="site-page child" href="/operation-system/"><i class="fa-fw fas fa-desktop"></i><span> 操作系统</span></a></li><li><a class="site-page child" href="/computer-composition/"><i class="fa-fw fas fa-microchip"></i><span> 计算机组成原理</span></a></li><li><a class="site-page child" href="/network/"><i class="fa-fw fas fa-network-wired"></i><span> 计算机网络</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> 页面</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 编程语言</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/tags/Java/"><i class="fa-fw fas fa-music"></i><span> Java</span></a></li><li><a class="site-page child" href="/tags/Python/"><i class="fa-fw fas fa-video"></i><span> Python</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">遗世独立</span></a><a class="nav-page-title" href="/"><span class="site-name">YOLO系列论文解读(v1-v9)</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/%E5%85%A5%E9%97%A8%E5%AE%9E%E8%B7%B5/"><i class="fa-fw fas fa-keyboard"></i><span> 入门实践</span></a></div><div class="menus_item"><a class="site-page" href="/tags/%E9%9A%8F%E7%AC%94/"><i class="fa-fw fas fa-edit"></i><span> 随笔</span></a></div><div class="menus_item"><a class="site-page" href="/tags/paper/"><i class="fa-fw fal fa-paperclip"></i><span> 论文解读</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> 计算机</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/algorithm/"><i class="fa-fw fas fa-code"></i><span> 算法</span></a></li><li><a class="site-page child" href="/data-structure/"><i class="fa-fw fas fa-terminal"></i><span> 数据结构</span></a></li><li><a class="site-page child" href="/operation-system/"><i class="fa-fw fas fa-desktop"></i><span> 操作系统</span></a></li><li><a class="site-page child" href="/computer-composition/"><i class="fa-fw fas fa-microchip"></i><span> 计算机组成原理</span></a></li><li><a class="site-page child" href="/network/"><i class="fa-fw fas fa-network-wired"></i><span> 计算机网络</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> 页面</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 编程语言</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/tags/Java/"><i class="fa-fw fas fa-music"></i><span> Java</span></a></li><li><a class="site-page child" href="/tags/Python/"><i class="fa-fw fas fa-video"></i><span> Python</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">YOLO系列论文解读(v1-v9)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2026-02-03T07:32:00.000Z" title="Created 2026-02-03 15:32:00">2026-02-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2026-02-12T10:34:06.980Z" title="Updated 2026-02-12 18:34:06">2026-02-12</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><p>[TOC]</p>
<h2 id="YOLO-简史">YOLO 简史</h2>
<p><img src="/img/yolo/performance-comparison.png" alt="performance-comparison.png (3840×1680)"></p>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/">YOLO</a>（You Only Look Once）是一种流行的<strong>目标检测</strong>和<strong>图像分割</strong>模型，于 2015 年推出，因其高速和高精度而广受欢迎。</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/">YOLOv2</a>于2016年发布，通过引入批量归一化(batch normalization)、锚框(anchor boxes)和维度聚类(dimension clusters)，改进了原始模型。</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolov3/">YOLOv3</a>于2018年推出，通过使用更高效的主干网络、多个锚点(multiple anchors)和空间金字塔池化(spatial pyramid pooling)，进一步提高了模型的性能。</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolov4/">YOLOv4</a>于 2020 年发布，引入了诸如 Mosaic <a target="_blank" rel="noopener" href="https://www.ultralytics.com/glossary/data-augmentation">数据增强</a>、一种新的无锚框检测头(anchor-free detection head)以及一种新的 <a target="_blank" rel="noopener" href="https://www.ultralytics.com/glossary/loss-function">损失函数</a>等创新。</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolov5/">YOLOv5</a> 进一步提高了模型的性能，并添加了新功能，例如超参数优化、集成实验跟踪和自动导出为流行的导出格式。</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolov6/">YOLOv6</a> 由<a target="_blank" rel="noopener" href="https://www.meituan.com/">美团</a>于 2022 年开源，并已应用于该公司的许多自动送货机器人中。</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolov7/">YOLOv7</a> 添加了其他任务，例如在 COCO 关键点数据集上进行姿势估计。</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolov8/">YOLOv8</a> 由Ultralytics 于 2023 年发布，引入了新功能和改进，以增强性能、灵活性和效率，并支持全方位的视觉 AI 任务。</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolov9/">YOLOv9</a> 引入了诸如可编程梯度信息 (PGI) 和通用高效层聚合网络 (GELAN) 等创新方法。</p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolov10/">YOLOv10</a> 由清华大学的研究人员使用Ultralytics Python package创建，通过引入消除非极大值抑制 (NMS) 要求的端到端头部，提供实时的<a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/tasks/detect/">目标检测</a>改进。</p>
</li>
<li>
<p><strong><a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolo11/">YOLO11</a></strong>：于 2024 年 9 月发布，YOLO11 在多项任务中表现出色，包括<a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/tasks/detect/">目标检测</a>、<a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/tasks/segment/">分割</a>、<a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/tasks/pose/">姿态估计</a>、<a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/modes/track/">追踪</a>和<a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/tasks/classify/">分类</a>，可部署到各种 AI 应用和领域。</p>
</li>
<li>
<p>**<a target="_blank" rel="noopener" href="https://docs.ultralytics.com/zh/models/yolo26/">YOLO26</a> **：Ultralytics 的下一代 YOLO 模型，针对边缘部署进行了优化，具有端到端无 NMS 推理功能。</p>
</li>
</ul>
<hr>
<h2 id="YOLOv1（You-Only-Look-Once）">YOLOv1（You Only Look Once）</h2>
<ul>
<li>官网：<a target="_blank" rel="noopener" href="https://pjreddie.com/darknet/yolo/">https://pjreddie.com/darknet/yolo/</a></li>
<li>论文：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1506.02640">https://arxiv.org/abs/1506.02640</a></li>
<li>会议：CVPR 2016</li>
</ul>
<h3 id="1-概述">1. 概述</h3>
<p>YOLOv1（You Only Look Once version 1）是由 Joseph Redmon 等人在 2015 年提出的实时目标检测算法，首次发表于论文《You Only Look Once: Unified, Real-Time Object Detection》。与传统两阶段检测器（如 R-CNN 系列）不同，YOLOv1 将目标检测任务视为一个<strong>单阶段的回归问题</strong>，直接从图像像素预测边界框和类别概率，从而实现高速检测。</p>
<p>YOLOv1 的核心思想是：将输入图像划分为 S×S 的网格（grid cells），每个网格负责预测 B 个边界框（bounding boxes）及其置信度，以及 C 个类别概率。整个过程通过一个卷积神经网络端到端完成，仅需一次前向传播即可输出所有检测结果。</p>
<h3 id="2-网络结构">2. 网络结构</h3>
<p><img src="/img/yolo/0CAE7301-6E9E-4737-A93E-266283F77C54.png" alt="0CAE7301-6E9E-4737-A93E-266283F77C54"></p>
<p>YOLOv1 使用一个定制的卷积神经网络作为骨干（backbone），其结构如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">YOLOv1</span>(nn.Module):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    YOLOv1 目标检测模型 (原始论文结构)</span></span><br><span class="line"><span class="string">    输入: (batch, 3, 448, 448)</span></span><br><span class="line"><span class="string">    输出: (batch, 7, 7, B*5 + C)  # B=边界框数, C=类别数</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, num_classes=<span class="number">20</span>, num_boxes=<span class="number">2</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(YOLOv1, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.num_classes = num_classes</span><br><span class="line">        <span class="variable language_">self</span>.num_boxes = num_boxes</span><br><span class="line">        output_channels = num_boxes * <span class="number">5</span> + num_classes  <span class="comment"># 通常为 2*5+20=30</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># =============== 特征提取主干 (24个卷积层) ===============</span></span><br><span class="line">        <span class="variable language_">self</span>.features = nn.Sequential(</span><br><span class="line">            <span class="comment"># Stage 1: 448 -&gt; 224 -&gt; 112</span></span><br><span class="line">            nn.Conv2d(<span class="number">3</span>, <span class="number">64</span>, kernel_size=<span class="number">7</span>, stride=<span class="number">2</span>, padding=<span class="number">3</span>),  <span class="comment"># 448-&gt;224</span></span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),  <span class="comment"># 224-&gt;112</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># Stage 2: 112 -&gt; 56</span></span><br><span class="line">            nn.Conv2d(<span class="number">64</span>, <span class="number">192</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),  <span class="comment"># 112-&gt;56</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># Stage 3: 56 -&gt; 28 (含1x1降维)</span></span><br><span class="line">            nn.Conv2d(<span class="number">192</span>, <span class="number">128</span>, kernel_size=<span class="number">1</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.Conv2d(<span class="number">128</span>, <span class="number">256</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.Conv2d(<span class="number">256</span>, <span class="number">256</span>, kernel_size=<span class="number">1</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.Conv2d(<span class="number">256</span>, <span class="number">512</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),  <span class="comment"># 56-&gt;28</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># Stage 4: 4个(1x1 + 3x3)块 + 附加层 (保持28x28)</span></span><br><span class="line">            *<span class="variable language_">self</span>._make_conv_blocks(<span class="number">512</span>, <span class="number">256</span>, <span class="number">512</span>, num_blocks=<span class="number">4</span>),</span><br><span class="line">            nn.Conv2d(<span class="number">512</span>, <span class="number">512</span>, kernel_size=<span class="number">1</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.Conv2d(<span class="number">512</span>, <span class="number">1024</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),  <span class="comment"># 28-&gt;14</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># Stage 5: 14 -&gt; 7 (关键尺寸压缩层)</span></span><br><span class="line">            nn.Conv2d(<span class="number">1024</span>, <span class="number">1024</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.Conv2d(<span class="number">1024</span>, <span class="number">1024</span>, kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>, padding=<span class="number">1</span>),  <span class="comment"># 14-&gt;7</span></span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.Conv2d(<span class="number">1024</span>, <span class="number">1024</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.Conv2d(<span class="number">1024</span>, <span class="number">1024</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">        )</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># =============== 检测头 (全连接层) ===============</span></span><br><span class="line">        <span class="variable language_">self</span>.classifier = nn.Sequential(</span><br><span class="line">            nn.Flatten(),</span><br><span class="line">            nn.Linear(<span class="number">7</span> * <span class="number">7</span> * <span class="number">1024</span>, <span class="number">4096</span>),</span><br><span class="line">            nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.Dropout(<span class="number">0.5</span>),  <span class="comment"># 论文指定 Dropout rate=0.5</span></span><br><span class="line">            nn.Linear(<span class="number">4096</span>, <span class="number">7</span> * <span class="number">7</span> * output_channels)  <span class="comment"># 输出 7x7x30</span></span><br><span class="line">        )</span><br><span class="line">        </span><br><span class="line">        <span class="variable language_">self</span>._initialize_weights()</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_make_conv_blocks</span>(<span class="params">in_ch, mid_ch, out_ch, num_blocks</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;创建重复的 (1x1 -&gt; 3x3) 卷积块&quot;&quot;&quot;</span></span><br><span class="line">        layers = []</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(num_blocks):</span><br><span class="line">            layers.extend([</span><br><span class="line">                nn.Conv2d(in_ch, mid_ch, kernel_size=<span class="number">1</span>),</span><br><span class="line">                nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">                nn.Conv2d(mid_ch, out_ch, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">                nn.LeakyReLU(<span class="number">0.1</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">            ])</span><br><span class="line">            in_ch = out_ch  <span class="comment"># 后续块输入通道更新</span></span><br><span class="line">        <span class="keyword">return</span> layers</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_initialize_weights</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;权重初始化 (论文使用预训练分类网络，此处用标准初始化)&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">for</span> m <span class="keyword">in</span> <span class="variable language_">self</span>.modules():</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(m, nn.Conv2d):</span><br><span class="line">                nn.init.kaiming_normal_(m.weight, mode=<span class="string">&#x27;fan_out&#x27;</span>, nonlinearity=<span class="string">&#x27;leaky_relu&#x27;</span>)</span><br><span class="line">                <span class="keyword">if</span> m.bias <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                    nn.init.constant_(m.bias, <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">elif</span> <span class="built_in">isinstance</span>(m, nn.Linear):</span><br><span class="line">                nn.init.normal_(m.weight, <span class="number">0</span>, <span class="number">0.01</span>)</span><br><span class="line">                nn.init.constant_(m.bias, <span class="number">0</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        前向传播</span></span><br><span class="line"><span class="string">        Args:</span></span><br><span class="line"><span class="string">            x: 输入张量 [B, 3, 448, 448]</span></span><br><span class="line"><span class="string">        Returns:</span></span><br><span class="line"><span class="string">            predictions: [B, 7, 7, (B*5 + C)]</span></span><br><span class="line"><span class="string">                每个网格预测: [x1,y1,w1,h1,conf1, x2,y2,w2,h2,conf2, cls_probs...]</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># 验证输入尺寸 (调试用，可注释)</span></span><br><span class="line">        <span class="keyword">assert</span> x.shape[<span class="number">2</span>:] == (<span class="number">448</span>, <span class="number">448</span>), <span class="string">f&quot;Input must be 448x448, got <span class="subst">&#123;x.shape[<span class="number">2</span>:]&#125;</span>&quot;</span></span><br><span class="line">        </span><br><span class="line">        x = <span class="variable language_">self</span>.features(x)      <span class="comment"># [B, 1024, 7, 7]</span></span><br><span class="line">        x = <span class="variable language_">self</span>.classifier(x)    <span class="comment"># [B, 1470]</span></span><br><span class="line">        x = x.view(-<span class="number">1</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="variable language_">self</span>.num_boxes * <span class="number">5</span> + <span class="variable language_">self</span>.num_classes)  <span class="comment"># [B, 7, 7, 30]</span></span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ==================== 使用示例与验证 ====================</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># 创建模型 (默认 VOC: 20类, 2个预测框)</span></span><br><span class="line">    model = YOLOv1(num_classes=<span class="number">20</span>, num_boxes=<span class="number">2</span>)</span><br><span class="line">    model.<span class="built_in">eval</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 模拟输入 (batch=2)</span></span><br><span class="line">    dummy_input = torch.randn(<span class="number">2</span>, <span class="number">3</span>, <span class="number">448</span>, <span class="number">448</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 前向传播</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        output = model(dummy_input)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 验证输出形状</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Input shape:  <span class="subst">&#123;dummy_input.shape&#125;</span>&quot;</span>)   <span class="comment"># torch.Size([2, 3, 448, 448])</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Output shape: <span class="subst">&#123;output.shape&#125;</span>&quot;</span>)        <span class="comment"># torch.Size([2, 7, 7, 30])</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 验证输出内容范围 (confidence 和 坐标应在合理范围)</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Confidence min/max: <span class="subst">&#123;output[..., <span class="number">4</span>].<span class="built_in">min</span>():<span class="number">.4</span>f&#125;</span> / <span class="subst">&#123;output[..., <span class="number">4</span>].<span class="built_in">max</span>():<span class="number">.4</span>f&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Class prob min/max: <span class="subst">&#123;output[..., -<span class="number">1</span>].<span class="built_in">min</span>():<span class="number">.4</span>f&#125;</span> / <span class="subst">&#123;output[..., -<span class="number">1</span>].<span class="built_in">max</span>():<span class="number">.4</span>f&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 可选：计算参数量</span></span><br><span class="line">    total_params = <span class="built_in">sum</span>(p.numel() <span class="keyword">for</span> p <span class="keyword">in</span> model.parameters())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Total parameters: <span class="subst">&#123;total_params / <span class="number">1e6</span>:<span class="number">.2</span>f&#125;</span>M&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>输入尺寸：448 × 448 × 3（RGB 图像）</li>
<li>卷积层：24 个卷积层，用于提取特征
<ul>
<li>前 20 层使用 3×3 和 1×1 卷积交替堆叠</li>
<li>后 4 层为高维特征提取层</li>
</ul>
</li>
<li>全连接层：2 个全连接层（4096 →  7 × 7 × 30）</li>
<li>输出维度：S × S × (B × 5 + C)
<ul>
<li>S是网格（特征图）尺寸，B是每个网格预测的bbox数，5是每个bbox需要预测的值，C是类别数</li>
<li>默认参数：S = 7, B = 2, C = 20（PASCAL VOC 数据集）</li>
<li>输出大小：7 × 7 × (2 × 5 + 20) = 7 × 7 × 30 = 1470</li>
</ul>
</li>
</ul>
<blockquote>
<p>注：5 表示每个边界框包含 5 个值：(x, y, w, h, confidence)</p>
</blockquote>
<h3 id="3-预测机制">3. 预测机制</h3>
<h4 id="3-1-网格划分">3.1 网格划分</h4>
<ul>
<li>输入图像被划分为 S×S（默认 7×7）的网格。</li>
<li>若某个物体的中心落在某个网格内，则该网格负责预测该物体。</li>
</ul>
<h4 id="3-2-边界框预测">3.2 边界框预测</h4>
<ul>
<li>每个网格预测 B（默认为 2）个边界框。</li>
<li>每个边界框包含：
<ul>
<li>中心坐标 (x, y)：相对于当前网格左上角的偏移（归一化到 [0,1]）</li>
<li>宽高 (w, h)：相对于整张图像的宽高（归一化）</li>
<li>置信度（confidence）：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>r</mi><mo stretchy="false">(</mo><mi>O</mi><mi>b</mi><mi>j</mi><mi>e</mi><mi>c</mi><mi>t</mi><mo stretchy="false">)</mo><mo>×</mo><mi>I</mi><mi>o</mi><msubsup><mi>U</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow><mrow><mi>t</mi><mi>r</mi><mi>u</mi><mi>t</mi><mi>h</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">Pr(Object) × IoU_{pred}^{truth}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.05724em;">bj</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2683em;vertical-align:-0.4192em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.4169em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4192em;"><span></span></span></span></span></span></span></span></span></span>
<ul>
<li>若无物体，置信度为 0</li>
<li>若有物体，置信度为预测框与真实框的 IoU</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="3-3-类别预测">3.3 类别预测</h4>
<ul>
<li>每个网格预测一组类别概率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>r</mi><mo stretchy="false">(</mo><mi>C</mi><mi>l</mi><mi>a</mi><mi>s</mi><msub><mi>s</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>O</mi><mi>b</mi><mi>j</mi><mi>e</mi><mi>c</mi><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Pr(Class_i | Object)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">Cl</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.05724em;">bj</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>，共 C 个（C=20 for VOC）</li>
<li>注意：类别概率是<strong>每个网格一份</strong>，而非每个边界框一份</li>
</ul>
<h4 id="3-4-最终检测结果">3.4 最终检测结果</h4>
<ul>
<li>
<p>对每个边界框计算类别置信度：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Class-Specific Confidence</mtext><mo>=</mo><msub><mtext>Pr(Class</mtext><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mtext>Object)</mtext><mo>×</mo><mtext>Confidence</mtext><mo>=</mo><msub><mtext>Pr(Class</mtext><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mtext>Object)</mtext><mo>×</mo><mi>P</mi><mi>r</mi><mo stretchy="false">(</mo><mi>O</mi><mi>b</mi><mi>j</mi><mi>e</mi><mi>c</mi><mi>t</mi><mo stretchy="false">)</mo><mo>×</mo><mi>I</mi><mi>o</mi><msubsup><mi>U</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow><mrow><mi>t</mi><mi>r</mi><mi>u</mi><mi>t</mi><mi>h</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">\text{Class-Specific Confidence} = \text{Pr(Class}_i|\text{Object)} \times \text{Confidence} = \text{Pr(Class}_i|\text{Object)} \times Pr(Object) \times IoU_{pred}^{truth}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">Class-Specific Confidence</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="mord"><span class="mord text"><span class="mord">Pr(Class</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord text"><span class="mord">Object)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Confidence</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="mord"><span class="mord text"><span class="mord">Pr(Class</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord text"><span class="mord">Object)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.05724em;">bj</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2822em;vertical-align:-0.3831em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-2.453em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>使用非极大值抑制（NMS）去除冗余检测框</p>
</li>
</ul>
<h3 id="4-损失函数">4. 损失函数</h3>
<p>YOLOv1 使用多任务损失函数，统一回归边界框、置信度和类别概率：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="script">L</mi><mo>=</mo><msub><mi>λ</mi><mtext>coord</mtext></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>obj</mtext></msubsup><mrow><mo fence="true">[</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo fence="true">]</mo></mrow><mspace linebreak="newline"></mspace><mo>+</mo><msub><mi>λ</mi><mtext>coord</mtext></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>obj</mtext></msubsup><mrow><mo fence="true">[</mo><mo stretchy="false">(</mo><msqrt><msub><mi>w</mi><mi>i</mi></msub></msqrt><mo>−</mo><msqrt><msub><mover accent="true"><mi>w</mi><mo>^</mo></mover><mi>i</mi></msub></msqrt><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msqrt><msub><mi>h</mi><mi>i</mi></msub></msqrt><mo>−</mo><msqrt><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>i</mi></msub></msqrt><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo fence="true">]</mo></mrow><mspace linebreak="newline"></mspace><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>obj</mtext></msubsup><mo stretchy="false">(</mo><msub><mi>C</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>C</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mspace linebreak="newline"></mspace><mo>+</mo><msub><mi>λ</mi><mtext>noobj</mtext></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>noobj</mtext></msubsup><mo stretchy="false">(</mo><msub><mi>C</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>C</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mspace linebreak="newline"></mspace><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><msubsup><mn mathvariant="double-struck">1</mn><mi>i</mi><mtext>obj</mtext></msubsup><munder><mo>∑</mo><mrow><mi>c</mi><mo>∈</mo><mtext>classes</mtext></mrow></munder><mo stretchy="false">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mover accent="true"><mi>p</mi><mo>^</mo></mover><mi>i</mi></msub><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\mathcal{L} = \lambda_{\text{coord}} \sum_{i=0}^{S^2} \sum_{j=0}^{B} \mathbb{1}_{ij}^{\text{obj}} \left[ (x_i - \hat{x}_i)^2 + (y_i - \hat{y}_i)^2 \right] \\
+ \lambda_{\text{coord}} \sum_{i=0}^{S^2} \sum_{j=0}^{B} \mathbb{1}_{ij}^{\text{obj}} \left[ (\sqrt{w_i} - \sqrt{\hat{w}_i})^2 + (\sqrt{h_i} - \sqrt{\hat{h}_i})^2 \right] \\

+ \sum_{i=0}^{S^2} \sum_{j=0}^{B} \mathbb{1}_{ij}^{\text{obj}} (C_i - \hat{C}_i)^2 \\
+ \lambda_{\text{noobj}} \sum_{i=0}^{S^2} \sum_{j=0}^{B} \mathbb{1}_{ij}^{\text{noobj}} (C_i - \hat{C}_i)^2 \\

+ \sum_{i=0}^{S^2} \mathbb{1}_{i}^{\text{obj}} \sum_{c \in \text{classes}} (p_i(c) - \hat{p}_i(c))^2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.3877em;vertical-align:-1.4138em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">coord</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:3.3877em;vertical-align:-1.4138em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">coord</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7742em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.7342em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2658em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0061em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9661em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2339em;"><span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0061em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9661em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2339em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4378em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.3978em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.88em" viewBox="0 0 400000 1944" preserveAspectRatio="xMinYMin slice"><path d="M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4022em;"><span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:3.3877em;vertical-align:-1.4138em;"></span><span class="mord">+</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1968em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:3.3877em;vertical-align:-1.4138em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">noobj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">noobj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1968em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:3.3034em;vertical-align:-1.3295em;"></span><span class="mord">+</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mrel mtight">∈</span><span class="mord text mtight"><span class="mord mtight">classes</span></span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3295em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">p</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>边界框损失（中心坐标和宽高）：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>r</mi><mi>e</mi><mi>g</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>obj</mtext></msubsup><mrow><mo fence="true">[</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo fence="true">]</mo></mrow><mspace linebreak="newline"></mspace><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>obj</mtext></msubsup><mrow><mo fence="true">[</mo><mo stretchy="false">(</mo><msqrt><msub><mi>w</mi><mi>i</mi></msub></msqrt><mo>−</mo><msqrt><msub><mover accent="true"><mi>w</mi><mo>^</mo></mover><mi>i</mi></msub></msqrt><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msqrt><msub><mi>h</mi><mi>i</mi></msub></msqrt><mo>−</mo><msqrt><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>i</mi></msub></msqrt><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{L}_{reg} = \sum_{i=0}^{S^2} \sum_{j=0}^{B} \mathbb{1}_{ij}^{\text{obj}} \left[ (x_i - \hat{x}_i)^2 + (y_i - \hat{y}_i)^2 \right] \\

+ \sum_{i=0}^{S^2} \sum_{j=0}^{B} \mathbb{1}_{ij}^{\text{obj}} \left[ (\sqrt{w_i} - \sqrt{\hat{w}_i})^2 + (\sqrt{h_i} - \sqrt{\hat{h}_i})^2 \right]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.3877em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:3.3877em;vertical-align:-1.4138em;"></span><span class="mord">+</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7742em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.7342em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2658em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0061em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9661em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2339em;"><span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0061em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9661em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2339em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4378em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.3978em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.88em" viewBox="0 0 400000 1944" preserveAspectRatio="xMinYMin slice"><path d="M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4022em;"><span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p>
<p>置信度损失：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>obj</mtext></msubsup><mo stretchy="false">(</mo><msub><mi>C</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>C</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mspace linebreak="newline"></mspace><mo>+</mo><msub><mi>λ</mi><mtext>noobj</mtext></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>noobj</mtext></msubsup><mo stretchy="false">(</mo><msub><mi>C</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>C</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\mathcal{L}_{class} = \sum_{i=0}^{S^2} \sum_{j=0}^{B} \mathbb{1}_{ij}^{\text{obj}} (C_i - \hat{C}_i)^2 \\

+ \lambda_{\text{noobj}} \sum_{i=0}^{S^2} \sum_{j=0}^{B} \mathbb{1}_{ij}^{\text{noobj}} (C_i - \hat{C}_i)^2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">ss</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.3877em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1968em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:3.3877em;vertical-align:-1.4138em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">noobj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">noobj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1968em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>类别概率损失：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><msubsup><mn mathvariant="double-struck">1</mn><mi>i</mi><mtext>obj</mtext></msubsup><munder><mo>∑</mo><mrow><mi>c</mi><mo>∈</mo><mtext>classes</mtext></mrow></munder><mo stretchy="false">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mover accent="true"><mi>p</mi><mo>^</mo></mover><mi>i</mi></msub><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\mathcal{L}_{class} = \sum_{i=0}^{S^2} \mathbb{1}_{i}^{\text{obj}} \sum_{c \in \text{classes}} (p_i(c) - \hat{p}_i(c))^2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">ss</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.3034em;vertical-align:-1.3295em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mrel mtight">∈</span><span class="mord text mtight"><span class="mord mtight">classes</span></span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3295em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">p</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>其中：</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>obj</mtext></msubsup></mrow><annotation encoding="application/x-tex">\mathbb{1}_{ij}^{\text{obj}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.38em;vertical-align:-0.413em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span></span></span></span> ：第 i 个网格的第 j 个边界框是否负责预测某个真实物体（即该物体中心落在该网格中）</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>noobj</mtext></msubsup></mrow><annotation encoding="application/x-tex">\mathbb{1}_{ij}^{\text{noobj}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.38em;vertical-align:-0.413em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">noobj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span></span></span></span>：没有包含物体的网格（即物体中心没有落到的网格中）</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mtext>coord</mtext></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">\lambda_{\text{coord}} = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">coord</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>：加大定位误差权重</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mtext>noobj</mtext></msub><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">\lambda_{\text{noobj}} = 0.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">noobj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.5</span></span></span></span>：降低无物体时的置信度误差权重</li>
<li>对 w、h 使用平方根是为了对小框的误差给予更高惩罚</li>
</ul>
<h3 id="5-优缺点分析">5. 优缺点分析</h3>
<h4 id="优点：">优点：</h4>
<ul>
<li><strong>速度快</strong>：单次前向传播，可实现实时检测（VOC 上达 45 FPS）</li>
<li><strong>全局推理</strong>：直接在整图上进行预测，减少背景误检</li>
<li><strong>端到端训练</strong>：无需复杂的流水线（如候选区域生成）</li>
</ul>
<h4 id="缺点：">缺点：</h4>
<ul>
<li><strong>定位精度较低</strong>：尤其对小物体和密集物体表现不佳</li>
<li><strong>每个网格最多预测 B 个物体</strong>：难以处理同一网格内多个物体的情况</li>
<li><strong>泛化能力有限</strong>：对新奇长宽比或分布外物体鲁棒性差</li>
</ul>
<h3 id="6-实验与性能（PASCAL-VOC-2007）">6. 实验与性能（PASCAL VOC 2007）</h3>
<table>
<thead>
<tr>
<th>方法</th>
<th>mAP (%)</th>
<th>推理速度 (FPS)</th>
</tr>
</thead>
<tbody>
<tr>
<td>R-CNN</td>
<td>58.5</td>
<td>～0.03</td>
</tr>
<tr>
<td>Fast R-CNN</td>
<td>68.4</td>
<td>～0.5</td>
</tr>
<tr>
<td>Faster R-CNN</td>
<td>73.2</td>
<td>～5–7</td>
</tr>
<tr>
<td><strong>YOLOv1</strong></td>
<td><strong>63.4</strong></td>
<td><strong>45</strong></td>
</tr>
</tbody>
</table>
<blockquote>
<p>虽然 mAP 低于两阶段方法，但速度优势显著。</p>
</blockquote>
<h3 id="7-总结">7. 总结</h3>
<p>YOLOv1 开创了单阶段目标检测的先河，其“将检测视为回归问题”的思想影响深远。尽管存在定位不准、漏检等问题，但它为后续 YOLOv2/v3/v4/v5/v8 等高效检测器奠定了基础。YOLO 系列至今仍是工业界最广泛使用的实时目标检测框架之一。</p>
<hr>
<h2 id="YOLOv2（You-Only-Look-Once-v2）">YOLOv2（You Only Look Once v2）</h2>
<h3 id="1-概述-2">1. 概述</h3>
<p>YOLOv2（又称 YOLO9000）由 Joseph Redmon 和 Ali Farhadi 于 2016 年提出，发表在论文《YOLO9000: Better, Faster, Stronger》中。YOLOv2 在 YOLOv1 的基础上进行了多项关键改进，显著提升了检测精度和速度，同时引入了联合训练策略，使其能够检测超过 9000 种物体类别。</p>
<p>YOLOv2 的设计目标是：<strong>在保持实时性的同时，提高检测准确率，并扩展到更大规模的类别集合</strong>。它通过引入一系列工程与算法优化，在 PASCAL VOC 和 COCO 等基准上实现了优于 Faster R-CNN 的性能，同时推理速度更快。</p>
<h3 id="2-核心改进">2. 核心改进</h3>
<p>YOLOv2 相比 YOLOv1 引入了以下关键技术：</p>
<table>
<thead>
<tr>
<th>改进项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Batch Normalization</strong></td>
<td>所有卷积层后添加 BN 层，提升收敛速度和模型稳定性，mAP 提升约 2%</td>
</tr>
<tr>
<td><strong>高分辨率分类器微调</strong></td>
<td>先在 ImageNet 上以 448×448 分辨率微调分类网络，缓解检测与分类输入尺寸不一致问题</td>
</tr>
<tr>
<td><strong>使用 Anchor Boxes</strong></td>
<td>借鉴 Faster R-CNN，用先验框（anchors）替代 YOLOv1 的直接回归，提升召回率</td>
</tr>
<tr>
<td><strong>Dimension Clusters</strong></td>
<td>使用 k-means 聚类在训练集边界框上自动学习 anchor 尺寸，避免人工设定</td>
</tr>
<tr>
<td><strong>Location Prediction with Constraints</strong></td>
<td>对 anchor 的偏移量预测施加约束，确保训练稳定</td>
</tr>
<tr>
<td><strong>Passthrough Layer</strong></td>
<td>引入细粒度特征融合机制，将浅层高分辨率特征传递到深层，提升小物体检测能力</td>
</tr>
<tr>
<td><strong>Multi-Scale Training</strong></td>
<td>训练时动态调整输入图像尺寸（320–608），增强模型对不同尺度的鲁棒性</td>
</tr>
<tr>
<td><strong>High-Resolution Detector</strong></td>
<td>最终输入尺寸为 416×416（非 448），使特征图尺寸为奇数（13×13），便于定位中心</td>
</tr>
</tbody>
</table>
<h3 id="3-网络结构：Darknet-19">3. 网络结构：Darknet-19</h3>
<p>YOLOv2 采用全新的骨干网络 <strong>Darknet-19</strong>，其特点如下：</p>
<ul>
<li>
<p>输入尺寸：可变（训练时多尺度，测试常用 416×416）</p>
</li>
<li>
<p>卷积层数：19 层（含 16 个 conv + 5 个 maxpool + 1 个 global avg pool）</p>
</li>
<li>
<p>使用大量 3×3 和 1×1 卷积交替堆叠</p>
</li>
<li>
<p>每个卷积层后接 Batch Normalization 和 Leaky ReLU</p>
</li>
<li>
<p>最终使用全局平均池化代替全连接层，减少参数量</p>
</li>
<li>
<p>在 ImageNet 上 top-1 准确率达 72.9%，速度快且轻量</p>
<blockquote>
<p>输出层：对于 PASCAL VOC（20 类），输出为 13×13×(5×(5+20)) = 13×13×125   &gt; 其中 5 是 anchor 数量，5 表示 (x, y, w, h, confidence)</p>
</blockquote>
</li>
</ul>
<h3 id="4-Anchor-Boxes-与边界框预测">4. Anchor Boxes 与边界框预测</h3>
<h4 id="4-1-Anchor-设计">4.1 Anchor 设计</h4>
<ul>
<li>使用 k-means（k=5）在 COCO 数据集上聚类边界框尺寸，得到 5 个先验框（anchors）</li>
<li>距离度量采用 IoU 而非欧氏距离：</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><mtext>box</mtext><mo separator="true">,</mo><mtext>centroid</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mtext>IOU</mtext><mo stretchy="false">(</mo><mtext>box</mtext><mo separator="true">,</mo><mtext>centroid</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d(\text{box}, \text{centroid}) = 1 - \text{IOU}(\text{box}, \text{centroid})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord text"><span class="mord">box</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">centroid</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">IOU</span></span><span class="mopen">(</span><span class="mord text"><span class="mord">box</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">centroid</span></span><span class="mclose">)</span></span></span></span></span></p>
<h4 id="4-2-边界框预测方式">4.2 边界框预测方式</h4>
<p>每个 grid cell 预测相对于 anchor 的偏移量：</p>
<ul>
<li>$ t_x, t_y $ ：中心偏移（经 sigmoid 限制在 [0,1] 内）</li>
<li>$t_w, t_h $ ：宽高缩放（无约束，通过指数变换）</li>
</ul>
<p>最终预测公式：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>b</mi><mi>x</mi></msub><mo>=</mo><mi>σ</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>x</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>c</mi><mi>x</mi></msub><mo separator="true">,</mo><mspace width="1em"/><msub><mi>b</mi><mi>y</mi></msub><mo>=</mo><mi>σ</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>y</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>c</mi><mi>y</mi></msub><mspace linebreak="newline"></mspace><msub><mi>b</mi><mi>w</mi></msub><mo>=</mo><msub><mi>p</mi><mi>w</mi></msub><msup><mi>e</mi><msub><mi>t</mi><mi>w</mi></msub></msup><mo separator="true">,</mo><mspace width="1em"/><msub><mi>b</mi><mi>h</mi></msub><mo>=</mo><msub><mi>p</mi><mi>h</mi></msub><msup><mi>e</mi><msub><mi>t</mi><mi>h</mi></msub></msup></mrow><annotation encoding="application/x-tex">b_x = \sigma(t_x) + c_x,\quad b_y = \sigma(t_y) + c_y \\
b_w = p_w e^{t_w},\quad b_h = p_h e^{t_h}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.038em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8436em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.038em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8436em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>c</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>c</mi><mi>y</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(c_x, c_y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 是 grid cell 左上角坐标，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>p</mi><mi>w</mi></msub><mo separator="true">,</mo><msub><mi>p</mi><mi>h</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(p_w, p_h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 是 anchor 尺寸。</p>
<blockquote>
<p>此设计使梯度更稳定，避免预测框任意漂移。</p>
</blockquote>
<h3 id="5-多尺度训练（Multi-Scale-Training）">5. 多尺度训练（Multi-Scale Training）</h3>
<ul>
<li>网络输入尺寸必须是 32 的倍数（因下采样 32 倍）</li>
<li>每隔 10 个 batch 随机选择一个新尺寸（如 320, 352, …, 608）</li>
<li>使同一网络能适应不同分辨率输入</li>
<li>测试时可灵活选择速度/精度平衡点：
<ul>
<li>低分辨率（如 320×320）：&gt;90 FPS，适合嵌入式设备</li>
<li>高分辨率（如 608×608）：精度更高，接近 SOTA</li>
</ul>
</li>
</ul>
<h3 id="6-YOLO9000：联合训练检测与分类">6. YOLO9000：联合训练检测与分类</h3>
<p>YOLOv2 的扩展版本 <strong>YOLO9000</strong> 实现了检测 9000+ 类物体的能力，其核心是<strong>联合训练策略</strong>：</p>
<ul>
<li>
<p><strong>数据来源</strong>：</p>
<ul>
<li>检测数据：带边界框标注（如 COCO）</li>
<li>分类数据：仅图像标签（如 ImageNet）</li>
</ul>
</li>
<li>
<p><strong>层级标签体系</strong>：</p>
<ul>
<li>构建 WordTree（词树），将 ImageNet 与 COCO 类别统一到语义层次结构中</li>
<li>例如：“狗” → “金毛”、“哈士奇”等子类</li>
</ul>
</li>
<li>
<p><strong>训练机制</strong>：</p>
<ul>
<li>若样本来自检测数据集，则正常更新定位和分类损失</li>
<li>若来自分类数据集，则只更新分类分支，并沿 WordTree 向上传播概率</li>
</ul>
</li>
</ul>
<blockquote>
<p>这使得模型能对未见过的类别进行合理推理（如检测“诺福克梗”即使训练集中无该类检测样本）</p>
</blockquote>
<h3 id="7-损失函数">7. 损失函数</h3>
<p>YOLOv2 的损失函数继承自 YOLOv1，但适配了 anchor 机制：</p>
<ul>
<li>定位损失：仅对负责预测物体的 anchor 计算（IoU 最大的那个）</li>
<li>置信度损失：区分 obj / noobj（仍使用 λ_noobj = 0.5）</li>
<li>分类损失：仅当网格包含物体时计算</li>
<li>不再使用平方根处理 w/h，因 anchor 已提供合理初始值</li>
</ul>
<h3 id="8-性能对比（PASCAL-VOC-2007）">8. 性能对比（PASCAL VOC 2007）</h3>
<table>
<thead>
<tr>
<th>方法</th>
<th>mAP (%)</th>
<th>推理速度 (FPS)</th>
<th>输入尺寸</th>
</tr>
</thead>
<tbody>
<tr>
<td>YOLOv1</td>
<td>63.4</td>
<td>45</td>
<td>448×448</td>
</tr>
<tr>
<td>Faster R-CNN</td>
<td>73.2</td>
<td>7</td>
<td>～600×～1000</td>
</tr>
<tr>
<td><strong>YOLOv2</strong></td>
<td><strong>78.6</strong></td>
<td><strong>≥67</strong></td>
<td>416×416</td>
</tr>
</tbody>
</table>
<blockquote>
<p>YOLOv2 在速度和精度上均超越 YOLOv1 和 Faster R-CNN。</p>
<p>在 COCO 上，YOLOv2 达到 44.0 mAP@0.5，速度达 40–60 FPS。</p>
</blockquote>
<h3 id="9-优缺点分析">9. 优缺点分析</h3>
<h4 id="优点：-2">优点：</h4>
<ul>
<li>精度显著提升（+5.2 mAP on VOC）</li>
<li>保持实时性（&gt;60 FPS）</li>
<li>支持多尺度输入，部署灵活</li>
<li>YOLO9000 实现大规模类别检测</li>
<li>使用 anchor + 聚类，提升召回率</li>
</ul>
<h4 id="缺点：-2">缺点：</h4>
<ul>
<li>对密集小物体仍存在漏检</li>
<li>每个 grid cell 仍只能分配一个 ground truth（尽管有多个 anchors）</li>
<li>WordTree 依赖语义层级，对非层级类别泛化有限</li>
</ul>
<h3 id="10-总结">10. 总结</h3>
<p>YOLOv2 是 YOLO 系列的重要里程碑，通过引入 anchor boxes、BatchNorm、多尺度训练、细粒度特征融合等技术，大幅提升了检测性能。其提出的 Darknet-19 成为后续轻量级检测器的参考架构，而 YOLO9000 的联合训练思想也为弱监督和开放词汇检测提供了新思路。</p>
<hr>
<h2 id="YOLOv3（You-Only-Look-Once-v3）">YOLOv3（You Only Look Once v3）</h2>
<h3 id="1-概述-3">1. 概述</h3>
<p>YOLOv3 由 Joseph Redmon 和 Ali Farhadi 于 2018 年提出，发表在技术报告《YOLOv3: An Incremental Improvement》中。作为 YOLO 系列的第三代模型，YOLOv3 在保持实时推理速度的同时，显著提升了对小物体和多尺度目标的检测能力，并增强了对遮挡、密集场景的鲁棒性。</p>
<p>YOLOv3 并未引入颠覆性创新，而是<strong>融合了当时计算机视觉领域的多项成熟技术</strong>（如残差网络、FPN、多尺度预测等），通过工程优化实现了精度与速度的良好平衡。它成为工业界最广泛部署的目标检测模型之一，尤其适用于嵌入式设备和实时视频分析场景。</p>
<h3 id="2-核心改进-2">2. 核心改进</h3>
<p>相比 YOLOv2，YOLOv3 的主要改进包括：</p>
<table>
<thead>
<tr>
<th>改进项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Darknet-53 骨干网络</strong></td>
<td>引入残差结构（借鉴 ResNet），提升特征提取能力</td>
</tr>
<tr>
<td><strong>多尺度预测（FPN-like）</strong></td>
<td>在三个不同尺度上进行检测，增强小物体召回率</td>
</tr>
<tr>
<td><strong>独立的类别预测（Logistic + BCE）</strong></td>
<td>使用二元交叉熵代替 softmax，支持多标签分类</td>
</tr>
<tr>
<td><strong>更精细的 anchor 设计</strong></td>
<td>基于 k-means 聚类得到 9 个 anchors，分配到 3 个尺度</td>
</tr>
<tr>
<td><strong>无全连接层</strong></td>
<td>完全卷积化，支持任意尺寸输入</td>
</tr>
</tbody>
</table>
<h3 id="3-网络结构：Darknet-53">3. 网络结构：Darknet-53</h3>
<p>YOLOv3 采用 <strong>Darknet-53</strong> 作为主干特征提取网络：</p>
<ul>
<li>输入尺寸：通常为 416×416（也可为 320、608 等）</li>
<li>结构特点：
<ul>
<li>包含 53 个卷积层（不含池化）</li>
<li>大量使用 <strong>残差块（Residual Block）</strong>：每个 block 包含两个 3×3 卷积，跳过连接缓解梯度消失</li>
<li>下采样通过 stride=2 的卷积实现（无 max pooling）</li>
</ul>
</li>
<li>性能对比：
<ul>
<li>ImageNet 分类 top-1 准确率：77.2%</li>
<li>推理速度比 ResNet-101 快 1.5 倍，精度更高</li>
</ul>
</li>
</ul>
<blockquote>
<p>Darknet-53 在精度与速度之间取得良好平衡，成为 YOLOv3 高性能的基础。</p>
</blockquote>
<h3 id="4-多尺度预测机制">4. 多尺度预测机制</h3>
<p>YOLOv3 借鉴 Feature Pyramid Network（FPN）思想，在<strong>三个不同尺度</strong>上进行检测：</p>
<table>
<thead>
<tr>
<th>输出层</th>
<th>特征图尺寸</th>
<th>对应感受野</th>
<th>擅长检测</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Large-scale</strong></td>
<td>13×13</td>
<td>大</td>
<td>大物体</td>
</tr>
<tr>
<td><strong>Medium-scale</strong></td>
<td>26×26</td>
<td>中</td>
<td>中等物体</td>
</tr>
<tr>
<td><strong>Small-scale</strong></td>
<td>52×52</td>
<td>小</td>
<td>小物体</td>
</tr>
</tbody>
</table>
<h4 id="特征融合方式：">特征融合方式：</h4>
<ul>
<li>从深层（13×13）开始预测</li>
<li>上采样深层特征 → 与中间层（26×26）拼接 → 预测中尺度</li>
<li>再上采样 → 与浅层（52×52）拼接 → 预测小尺度</li>
</ul>
<blockquote>
<p>这种“自顶向下 + 横向连接”结构显著提升了小目标检测性能。</p>
</blockquote>
<h3 id="5-Anchor-Boxes-与输出设计">5. Anchor Boxes 与输出设计</h3>
<ul>
<li>使用 <strong>k-means 聚类</strong>在 COCO 数据集上聚出 <strong>9 个 anchors</strong></li>
<li>将 9 个 anchors <strong>按面积大小均分为三组</strong>，分别用于三个尺度：
<ul>
<li>13×13 层：(116×90), (156×198), (373×326)</li>
<li>26×26 层：(30×61), (62×45), (59×119)</li>
<li>52×52 层：(10×13), (16×30), (33×23)</li>
</ul>
</li>
</ul>
<p>每个尺度的输出张量维度为：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>H</mtext><mo>×</mo><mtext>W</mtext><mo>×</mo><mo stretchy="false">[</mo><mn>3</mn><mo>×</mo><mo stretchy="false">(</mo><mn>5</mn><mo>+</mo><mi>C</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\text{H} \times \text{W} \times [3 \times (5 + C)]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord text"><span class="mord">H</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord text"><span class="mord">W</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)]</span></span></span></span></span></p>
<p>其中：</p>
<ul>
<li>3：该尺度使用的 anchor 数量</li>
<li>5：(x, y, w, h, objectness confidence)</li>
<li>C：类别数（COCO 为 80）</li>
</ul>
<h3 id="6-类别预测：多标签分类">6. 类别预测：多标签分类</h3>
<p>YOLOv3 <strong>放弃 softmax</strong>，改用 <strong>独立的 logistic 分类器 + 二元交叉熵（BCE）损失</strong>：</p>
<ul>
<li>每个类别独立预测概率 ( p \in [0,1] )</li>
<li>允许一个物体属于多个类别（如 “woman” 和 “person”）</li>
<li>更适合处理标签不互斥的场景（如 Open Images）</li>
</ul>
<blockquote>
<p>此设计提高了模型在复杂数据集上的灵活性和泛化能力。</p>
</blockquote>
<h3 id="7-损失函数-2">7. 损失函数</h3>
<p>YOLOv3 的损失函数包含三部分：</p>
<ol>
<li>
<p><strong>定位损失（L2）</strong></p>
<ul>
<li>对负责预测的 anchor 计算 (x, y, w, h) 的平方误差</li>
<li>(w/h 仍使用原始值，未开根号)</li>
</ul>
</li>
<li>
<p><strong>置信度损失（BCE）</strong></p>
<ul>
<li>有物体：预测 IoU 与真实 IoU 的 BCE</li>
<li>无物体：仅计算负样本置信度（使用 λ_noobj ≈ 1）</li>
</ul>
</li>
<li>
<p><strong>分类损失（BCE）</strong></p>
<p>对每个类别独立计算二元交叉熵</p>
</li>
</ol>
<blockquote>
<p>注意：YOLOv3 <strong>不再使用 YOLOv1 中的 λ_coord 权重</strong>，因 anchor 提供了良好初始化。</p>
</blockquote>
<h2 id="8-性能表现（COCO-test-dev）">8. 性能表现（COCO test-dev）</h2>
<table>
<thead>
<tr>
<th>模型</th>
<th>mAP@0.5</th>
<th>mAP@[0.5:0.95]</th>
<th>推理速度（Titan X）</th>
</tr>
</thead>
<tbody>
<tr>
<td>YOLOv2</td>
<td>69.0</td>
<td>21.6</td>
<td>～67 FPS</td>
</tr>
<tr>
<td>SSD512</td>
<td>68.3</td>
<td>28.8</td>
<td>～19 FPS</td>
</tr>
<tr>
<td>Faster R-CNN</td>
<td>76.4</td>
<td>34.9</td>
<td>～7 FPS</td>
</tr>
<tr>
<td><strong>YOLOv3-416</strong></td>
<td><strong>57.9</strong></td>
<td><strong>33.0</strong></td>
<td><strong>≥60 FPS</strong></td>
</tr>
<tr>
<td>YOLOv3-608</td>
<td>61.2</td>
<td>36.5</td>
<td>～45 FPS</td>
</tr>
</tbody>
</table>
<blockquote>
<p>虽然 mAP@0.5 低于 YOLOv2（因 COCO 评价标准更严），但 <strong>mAP@[0.5:0.95] 显著提升</strong>，说明定位更精准。</p>
</blockquote>
<p>在 PASCAL VOC 上，YOLOv3 达到 <strong>82.0 mAP</strong>，超越 YOLOv2。</p>
<h3 id="9-优缺点分析-2">9. 优缺点分析</h3>
<h4 id="优点：-3">优点：</h4>
<ul>
<li><strong>多尺度检测</strong>显著提升小物体性能</li>
<li><strong>Darknet-53 + 残差结构</strong>特征表达能力强</li>
<li><strong>完全卷积</strong>，支持任意输入尺寸</li>
<li><strong>多标签分类</strong>更符合现实场景</li>
<li><strong>速度快、精度高</strong>，适合工业部署</li>
</ul>
<h4 id="缺点：-3">缺点：</h4>
<ul>
<li>对极小或严重遮挡物体仍有漏检</li>
<li>模型较大（约 236 MB），对边缘设备仍有压力</li>
<li>未使用注意力机制或更先进训练策略（如 label smoothing）</li>
</ul>
<h3 id="10-总结-2">10. 总结</h3>
<p>YOLOv3 是 YOLO 系列中<strong>最稳定、最实用</strong>的版本之一。它通过融合残差网络、FPN 多尺度预测、逻辑分类器等成熟技术，在不牺牲速度的前提下大幅提升了检测精度，尤其在小目标和复杂场景中表现优异。</p>
<p>尽管后续出现了 YOLOv4、v5、v8 等改进版本，YOLOv3 因其简洁性、可复现性和良好性能，至今仍在大量实际项目中被广泛使用。</p>
<hr>
<h2 id="YOLOv4（You-Only-Look-Once-v4）">YOLOv4（You Only Look Once v4）</h2>
<h3 id="1-概述-4">1. 概述</h3>
<p>YOLOv4 由 Alexey Bochkovskiy、Chien-Yao Wang 和 Hong-Yuan Mark Liao 于 2020 年提出，发表在论文《YOLOv4: Optimal Speed and Accuracy of Object Detection》中。与前几代由 Joseph Redmon 主导不同，YOLOv4 是社区驱动的工程集大成之作，<strong>系统性地验证并整合了近年来目标检测领域的大量有效技巧（Bag of Freebies / Bag of Specials）</strong>，在保持实时推理速度的同时，显著提升了精度。</p>
<p>YOLOv4 的核心理念是：<strong>在常规 GPU（如 GTX 1080Ti 或 RTX 2080）上实现最优的速度-精度平衡</strong>，无需专用硬件或复杂训练策略，即可达到 SOTA（State-of-the-Art）水平。</p>
<h3 id="2-核心贡献">2. 核心贡献</h3>
<p>YOLOv4 并未提出全新网络结构，而是通过以下方式实现性能突破：</p>
<h4 id="2-1-系统性实验验证">2.1 系统性实验验证</h4>
<ul>
<li>提出 <strong>“Bag of Freebies”</strong>（不增加推理成本的训练技巧）：
<ul>
<li>数据增强：Mosaic、CutMix、Class Label Smoothing、DropBlock</li>
<li>损失函数改进：CIoU Loss、CIOU-based NMS</li>
</ul>
</li>
<li>提出 <strong>“Bag of Specials”</strong>（轻微增加推理成本但显著提升精度的模块）：
<ul>
<li>PANet + SPP 结构</li>
<li>Mish 激活函数</li>
<li>Cross mini-Batch Normalization（CmBN）</li>
<li>Self-Adversarial Training（SAT）</li>
</ul>
</li>
</ul>
<h4 id="2-2-高效骨干网络：CSPDarknet53">2.2 高效骨干网络：CSPDarknet53</h4>
<ul>
<li>基于 Darknet53 引入 <strong>Cross Stage Partial Network（CSPNet）</strong></li>
<li>减少重复梯度信息，提升计算效率和精度</li>
<li>在 ImageNet 上优于 ResNet-101，且推理更快</li>
</ul>
<h4 id="2-3-改进的检测头：PANet-SPP">2.3 改进的检测头：PANet + SPP</h4>
<ul>
<li><strong>SPP（Spatial Pyramid Pooling）模块</strong>：融合多尺度上下文信息，增强感受野</li>
<li><strong>PANet（Path Aggregation Network）</strong>：自底向上 + 自顶向下路径融合，强化特征金字塔</li>
</ul>
<h3 id="3-网络架构">3. 网络架构</h3>
<p>YOLOv4 整体结构分为三部分：</p>
<table>
<thead>
<tr>
<th>组件</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Backbone</strong></td>
<td>CSPDarknet53（含 Mish 激活、CmBN）</td>
</tr>
<tr>
<td><strong>Neck</strong></td>
<td>SPP + PANet（特征融合）</td>
</tr>
<tr>
<td><strong>Head</strong></td>
<td>YOLOv3-style 多尺度检测头（3 个输出层）</td>
</tr>
</tbody>
</table>
<h4 id="输入与输出">输入与输出</h4>
<ul>
<li>默认输入尺寸：608×608（可调）</li>
<li>输出尺度：76×76（小物体）、38×38（中）、19×19（大）</li>
<li>每个尺度预测 3 个 anchor boxes（共 9 个，由 k-means 聚类获得）</li>
</ul>
<h3 id="4-关键技术详解">4. 关键技术详解</h3>
<h4 id="4-1-CSPDarknet53">4.1 CSPDarknet53</h4>
<ul>
<li>将输入通道分为两部分：一部分直接 bypass，另一部分进入残差块</li>
<li>减少计算量约 20%，同时提升准确率</li>
<li>使用 <strong>Mish 激活函数</strong>（$ x \cdot \tanh(\ln(1 + e^x)) $），比 Leaky ReLU 更平滑，梯度更稳定</li>
</ul>
<h4 id="4-2-SPP-模块">4.2 SPP 模块</h4>
<ul>
<li>在 backbone 末端插入 SPP 层（含 5×5, 9×9, 13×13 最大池化）</li>
<li>固定输出尺寸，增强对不同尺度目标的鲁棒性</li>
<li>不增加推理延迟（因并行池化）</li>
</ul>
<h4 id="4-3-PANet-特征融合">4.3 PANet 特征融合</h4>
<ul>
<li>在 FPN（自顶向下）基础上增加 <strong>自底向上路径</strong></li>
<li>低层语义信息可直达高层，高层语义也可反馈至底层</li>
<li>显著提升小目标和定位精度</li>
</ul>
<h4 id="4-4-Mosaic-数据增强">4.4 Mosaic 数据增强</h4>
<ul>
<li>每次训练随机拼接 <strong>4 张图像</strong>为一张</li>
<li>增强模型对小目标、多目标、跨域场景的泛化能力</li>
<li>减少对 Batch Normalization 的依赖</li>
</ul>
<h4 id="4-5-CIoU-Loss">4.5 CIoU Loss</h4>
<ul>
<li>改进 IoU Loss，引入：
<ul>
<li>重叠面积（IoU）</li>
<li>中心点距离</li>
<li>宽高比一致性</li>
</ul>
</li>
<li>加速收敛，提升边界框回归精度</li>
</ul>
<h4 id="4-6-Self-Adversarial-Training（SAT）">4.6 Self-Adversarial Training（SAT）</h4>
<ul>
<li>第一阶段：正常训练</li>
<li>第二阶段：固定网络，<strong>对输入图像进行对抗扰动</strong>，使网络“自我欺骗”</li>
<li>提升模型鲁棒性，尤其对遮挡和噪声</li>
</ul>
<h3 id="5-训练策略">5. 训练策略</h3>
<ul>
<li><strong>优化器</strong>：SGD with momentum（初始 lr=0.0013，余弦退火）</li>
<li><strong>Batch Size</strong>：64（使用 multi-scale training 可适应不同 GPU）</li>
<li><strong>Multi-Scale Training</strong>：每 10 个 batch 随机调整输入尺寸（320–608）</li>
<li><strong>正则化</strong>：DropBlock（比 Dropout 更适合卷积网络）</li>
</ul>
<h3 id="6-性能表现（COCO-test-dev）">6. 性能表现（COCO test-dev）</h3>
<table>
<thead>
<tr>
<th>模型</th>
<th>mAP@0.5</th>
<th>mAP@[0.5:0.95]</th>
<th>推理速度（RTX 2080Ti）</th>
</tr>
</thead>
<tbody>
<tr>
<td>YOLOv3-608</td>
<td>57.9</td>
<td>33.0</td>
<td>～45 FPS</td>
</tr>
<tr>
<td>EfficientDet-D3</td>
<td>57.8</td>
<td>42.6</td>
<td>～10 FPS</td>
</tr>
<tr>
<td><strong>YOLOv4-608</strong></td>
<td><strong>65.7</strong></td>
<td><strong>43.5</strong></td>
<td><strong>≥62 FPS</strong></td>
</tr>
<tr>
<td>YOLOv4-tiny</td>
<td>41.2</td>
<td>22.0</td>
<td><strong>&gt;200 FPS</strong></td>
</tr>
</tbody>
</table>
<blockquote>
<p>YOLOv4 在 COCO 上首次实现 <strong>&gt;65 mAP@0.5 且 &gt;60 FPS</strong>，成为当时最快的高精度检测器。</p>
</blockquote>
<h3 id="7-优缺点分析">7. 优缺点分析</h3>
<h4 id="优点：-4">优点：</h4>
<ul>
<li><strong>精度与速度兼得</strong>：在单张消费级 GPU 上达到 SOTA</li>
<li><strong>工程友好</strong>：无需特殊硬件，训练/部署简单</li>
<li><strong>模块化设计</strong>：各组件可独立替换（如换 backbone）</li>
<li><strong>开源完善</strong>：官方提供 Darknet 实现，社区支持丰富</li>
</ul>
<h4 id="缺点：-4">缺点：</h4>
<ul>
<li>模型较大（约 245 MB），对嵌入式设备不友好</li>
<li>训练资源需求高（建议 16GB+ GPU 显存）</li>
<li>部分技巧（如 SAT）增加训练复杂度</li>
</ul>
<h3 id="8-YOLOv4-变体">8. YOLOv4 变体</h3>
<ul>
<li><strong>YOLOv4-tiny</strong>：轻量化版本，适用于边缘设备（Jetson Nano、树莓派）</li>
<li><strong>YOLOv4-CSP</strong>：进一步优化 CSP 结构</li>
<li><strong>Scaled-YOLOv4</strong>（后续工作）：基于 YOLOv4 的缩放策略，衍生出 YOLOv4-large 等</li>
</ul>
<h3 id="9-总结">9. 总结</h3>
<p>YOLOv4 是目标检测领域的一座工程丰碑。它通过严谨的实验验证，将数十种前沿技术有机整合，在不牺牲实时性的前提下，将 YOLO 系列的精度推向新高度。其“实用主义”设计理念——<strong>在普通硬件上实现最优性能</strong>——使其成为工业界最受欢迎的检测框架之一。</p>
<p>尽管后续出现了 YOLOv5（Ultralytics）、YOLOv6/v7/v8（美团、Alexey 等），YOLOv4 仍因其稳定性、可解释性和高性能，被广泛应用于安防、自动驾驶、工业质检等领域。</p>
<hr>
<h2 id="YOLOv5（You-Only-Look-Once-v5）">YOLOv5（You Only Look Once v5）</h2>
<h3 id="1-概述-5">1. 概述</h3>
<p>YOLOv5 由 <strong>Ultralytics</strong> 团队于 2020 年 6 月首次开源发布，是 YOLO 系列中首个<strong>非官方但广泛流行</strong>的版本。尽管其命名延续了 YOLO 序列，但 YOLOv5 并未发表于学术会议或期刊，而是以工程实现和易用性为核心目标。</p>
<p>YOLOv5 的核心优势在于：<strong>PyTorch 原生实现、模块化设计、训练/部署一体化、支持多平台导出（ONNX、TensorRT、CoreML 等）</strong>，使其迅速成为工业界最常用的目标检测框架之一。它在保持与 YOLOv4 相当精度的同时，显著简化了使用流程，并提供了灵活的模型缩放策略。</p>
<blockquote>
<p>注意：YOLOv5 并非 Joseph Redmon 或 Alexey Bochkovskiy 官方作品，而是社区驱动的高质量实现。</p>
</blockquote>
<h3 id="2-核心特点">2. 核心特点</h3>
<table>
<thead>
<tr>
<th>特性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PyTorch 原生</strong></td>
<td>使用 PyTorch 编写，支持自动混合精度（AMP）、分布式训练、可视化调试</td>
</tr>
<tr>
<td><strong>模型缩放系列</strong></td>
<td>提供 YOLOv5n/s/m/l/x 五种尺寸，满足不同算力需求</td>
</tr>
<tr>
<td><strong>AutoAnchor</strong></td>
<td>自动根据数据集边界框分布优化 anchor 尺寸</td>
</tr>
<tr>
<td><strong>Mosaic + MixUp</strong></td>
<td>默认启用高级数据增强，提升小目标和泛化能力</td>
</tr>
<tr>
<td><strong>Focus 结构（早期版本）</strong></td>
<td>切片拼接下采样，减少计算量（v6.0 后被替换为标准卷积）</td>
</tr>
<tr>
<td><strong>解耦头（Decoupled Head）</strong></td>
<td>分离分类与回归分支，提升收敛速度（v6.0+ 引入）</td>
</tr>
<tr>
<td><strong>CIoU / DIoU Loss</strong></td>
<td>改进边界框回归损失，提升定位精度</td>
</tr>
<tr>
<td><strong>一键部署</strong></td>
<td>支持导出为 ONNX、TensorRT、OpenVINO、CoreML、TFLite 等格式</td>
</tr>
</tbody>
</table>
<h3 id="3-网络架构-2">3. 网络架构</h3>
<p>YOLOv5 整体采用 <strong>“Backbone + Neck + Head”</strong> 三段式结构：</p>
<h4 id="3-1-Backbone：增强-CSPNet">3.1 Backbone：增强 CSPNet</h4>
<ul>
<li>基于 <strong>CSPDarknet</strong> 改进（受 YOLOv4 启发）</li>
<li>使用 <strong>SiLU（Swish）激活函数</strong>（替代 Leaky ReLU/Mish）</li>
<li>包含多个 <strong>C3 模块</strong>（Cross Stage Partial + 3 个卷积层）</li>
<li>下采样通过 stride=2 卷积实现</li>
</ul>
<h4 id="3-2-Neck：PAN-FPN">3.2 Neck：PAN-FPN</h4>
<ul>
<li>融合 <strong>FPN（自顶向下） + PAN（自底向上）</strong></li>
<li>多尺度特征交互，强化小目标检测能力</li>
<li>使用 <strong>上采样 + 拼接（concat）</strong> 而非相加（add）</li>
</ul>
<h4 id="3-3-Head：Anchor-Based-检测头">3.3 Head：Anchor-Based 检测头</h4>
<ul>
<li>三个输出尺度（如 80×80, 40×40, 20×20 for 640×640 input）</li>
<li>每个尺度预测 3 个 anchor boxes（共 9 个）</li>
<li>输出内容：(x, y, w, h, objectness, class_probs)</li>
</ul>
<blockquote>
<p>从 YOLOv5 v6.0 开始，引入 <strong>解耦检测头（Decoupled Head）</strong>，将分类与回归路径分离，进一步提升精度。</p>
</blockquote>
<h3 id="4-模型系列（Scale-Variants）">4. 模型系列（Scale Variants）</h3>
<p>YOLOv5 提供五种预定义模型，通过深度（depth_multiple）和宽度（width_multiple）控制：</p>
<table>
<thead>
<tr>
<th>模型</th>
<th>参数量</th>
<th>FLOPs (640×640)</th>
<th>COCO mAP@0.5</th>
<th>速度（V100）</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>YOLOv5n</strong>（nano）</td>
<td>1.9M</td>
<td>4.5B</td>
<td>28.0</td>
<td>～140 FPS</td>
</tr>
<tr>
<td><strong>YOLOv5s</strong>（small）</td>
<td>7.2M</td>
<td>16.5B</td>
<td>37.4</td>
<td>～90 FPS</td>
</tr>
<tr>
<td><strong>YOLOv5m</strong>（medium）</td>
<td>21.2M</td>
<td>49.0B</td>
<td>45.4</td>
<td>～50 FPS</td>
</tr>
<tr>
<td><strong>YOLOv5l</strong>（large）</td>
<td>46.5M</td>
<td>109.1B</td>
<td>49.0</td>
<td>～30 FPS</td>
</tr>
<tr>
<td><strong>YOLOv5x</strong>（extra）</td>
<td>86.7M</td>
<td>205.7B</td>
<td>50.7</td>
<td>～20 FPS</td>
</tr>
</tbody>
</table>
<blockquote>
<p>所有模型均在 COCO train2017 上训练，输入尺寸为 640×640。</p>
</blockquote>
<h3 id="5-训练与推理优化">5. 训练与推理优化</h3>
<h4 id="5-1-数据增强">5.1 数据增强</h4>
<ul>
<li><strong>Mosaic</strong>：4 图拼接（默认开启）</li>
<li><strong>MixUp</strong>：图像线性混合（后期 epoch 启用）</li>
<li><strong>HSV 调整、随机翻转、仿射变换</strong>等</li>
</ul>
<h4 id="5-2-自动超参调优">5.2 自动超参调优</h4>
<ul>
<li><code>hyperparameter evolution</code>：基于遗传算法自动搜索最优 lr、momentum、augment ratio 等</li>
</ul>
<h4 id="5-3-自动-Anchor-优化">5.3 自动 Anchor 优化</h4>
<ul>
<li><code>k-means</code> 在训练集上聚类边界框</li>
<li>若 IoU 提升 &gt; 阈值，则替换默认 anchors</li>
</ul>
<h4 id="5-4-推理加速">5.4 推理加速</h4>
<ul>
<li>支持 <strong>TensorRT</strong>（GPU）、<strong>OpenVINO</strong>（Intel CPU）、<strong>CoreML</strong>（Apple）</li>
<li>可导出为 <strong>ONNX</strong> 通用格式，便于跨平台部署</li>
</ul>
<h3 id="6-性能对比（COCO-val2017）">6. 性能对比（COCO val2017）</h3>
<table>
<thead>
<tr>
<th>模型</th>
<th>mAP@0.5</th>
<th>mAP@[0.5:0.95]</th>
<th>参数量</th>
<th>推理速度（ms, V100）</th>
</tr>
</thead>
<tbody>
<tr>
<td>YOLOv4</td>
<td>65.7</td>
<td>43.5</td>
<td>～62M</td>
<td>～16 ms</td>
</tr>
<tr>
<td><strong>YOLOv5s</strong></td>
<td><strong>56.8</strong></td>
<td><strong>37.4</strong></td>
<td>7.2M</td>
<td><strong>～3.5 ms</strong></td>
</tr>
<tr>
<td><strong>YOLOv5m</strong></td>
<td><strong>63.3</strong></td>
<td><strong>44.2</strong></td>
<td>21.2M</td>
<td>～6.5 ms</td>
</tr>
<tr>
<td><strong>YOLOv5l</strong></td>
<td><strong>66.0</strong></td>
<td><strong>47.2</strong></td>
<td>46.5M</td>
<td>～10 ms</td>
</tr>
<tr>
<td>EfficientDet-D1</td>
<td>56.1</td>
<td>39.6</td>
<td>6.6M</td>
<td>～25 ms</td>
</tr>
</tbody>
</table>
<blockquote>
<p>YOLOv5l 在精度上超越 YOLOv4，且推理更快；YOLOv5s 在轻量级场景极具竞争力。</p>
</blockquote>
<h3 id="7-优缺点分析-2">7. 优缺点分析</h3>
<h4 id="优点：-5">优点：</h4>
<ul>
<li><strong>开箱即用</strong>：提供完整训练/验证/推理/部署 pipeline</li>
<li><strong>PyTorch 生态友好</strong>：易于调试、修改、集成</li>
<li><strong>多平台部署支持</strong>：覆盖移动端、嵌入式、服务器</li>
<li><strong>活跃社区</strong>：GitHub 超 30k stars，持续更新</li>
<li><strong>灵活缩放</strong>：从 nano 到 extra，适配各种硬件</li>
</ul>
<h4 id="缺点：-5">缺点：</h4>
<ul>
<li><strong>非学术论文发布</strong>：缺乏理论创新性证明</li>
<li><strong>早期 Focus 层争议</strong>：被质疑为“伪创新”（后已弃用）</li>
<li><strong>默认配置偏向速度</strong>：高精度需手动调参或使用大模型</li>
</ul>
<h3 id="9-总结-2">9. 总结</h3>
<p>YOLOv5 并非传统意义上的“学术突破”，而是一次工程卓越性的典范。它将目标检测的复杂流程封装为简洁、高效、可扩展的工具链，极大降低了 AI 落地门槛。凭借其易用性、灵活性和高性能，YOLOv5 成为工业界事实上的标准检测框架之一。</p>
<p>尽管后续出现了 YOLOv6（美团）、YOLOv7（Alexey）、YOLOv8（Ultralytics 新一代），YOLOv5 因其成熟稳定，仍在大量生产环境中被广泛使用。</p>
<hr>
<h2 id="YOLOv6（You-Only-Look-Once-v6）">YOLOv6（You Only Look Once v6）</h2>
<h3 id="1-概述-6">1. 概述</h3>
<p>YOLOv6 由 <strong>美团视觉智能部</strong> 于 2022 年 6 月开源发布，论文《YOLOv6: A Single-Stage Object Detection Framework for Industrial Applications》系统性地针对工业部署场景进行了优化。与 YOLOv5 强调易用性不同，YOLOv6 聚焦于 <strong>“硬件友好”、“高精度”与“低延迟”</strong> 的统一，特别适用于边缘设备（如 NVIDIA Jetson、ARM CPU）和大规模视频分析系统。</p>
<p>YOLOv6 的核心理念是：<strong>在不牺牲推理速度的前提下，通过结构重参数化、高效骨干网络和自蒸馏等技术，提升模型精度与部署效率</strong>。其设计充分考虑了现代 AI 芯片的计算特性（如 GPU 的 Tensor Core、NPU 的 INT8 优化），成为面向工业落地的新一代 YOLO 变体。</p>
<h3 id="2-核心创新">2. 核心创新</h3>
<table>
<thead>
<tr>
<th>技术</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>RepVGG-style Backbone</strong></td>
<td>使用结构重参数化（Reparameterization）构建高效骨干网络</td>
</tr>
<tr>
<td><strong>Anchor-Free 检测头</strong></td>
<td>放弃 anchor boxes，简化预测逻辑，降低后处理开销</td>
</tr>
<tr>
<td><strong>SimOTA 动态标签分配</strong></td>
<td>更优的正负样本匹配策略，提升训练稳定性</td>
</tr>
<tr>
<td><strong>Self-Distillation 自蒸馏</strong></td>
<td>利用教师模型（EMA）指导学生训练，提升小模型精度</td>
</tr>
<tr>
<td><strong>硬件感知设计</strong></td>
<td>网络结构适配 GPU/NPU 计算单元，减少内存访问瓶颈</td>
</tr>
</tbody>
</table>
<h3 id="3-网络架构-3">3. 网络架构</h3>
<p>YOLOv6 采用 <strong>“Backbone + Neck + Head”</strong> 三段式设计，但与 YOLOv5/v4 有显著差异：</p>
<h4 id="3-1-Backbone：EfficientRep-CSPBep">3.1 Backbone：EfficientRep / CSPBep</h4>
<ul>
<li>基于 <strong>RepVGG</strong> 思想，使用 <strong>RepBlock</strong>（训练时多分支，推理时融合为单 3×3 卷积）</li>
<li>在训练阶段包含 identity + 1×1 + 3×3 分支，推理时等效合并，<strong>无额外推理成本</strong></li>
<li>后续版本（v3.0+）引入 <strong>CSPBep</strong> 结构，结合 Cross Stage Partial 与 BepBlock，进一步提升效率</li>
</ul>
<h4 id="3-2-Neck：Rep-PAN">3.2 Neck：Rep-PAN</h4>
<ul>
<li>改进的 PANet，同样采用重参数化卷积</li>
<li>特征融合路径优化，减少通道数冗余</li>
<li>支持多尺度特征交互（P3/P4/P5）</li>
</ul>
<h4 id="3-3-Head：Anchor-Free">3.3 Head：Anchor-Free</h4>
<ul>
<li><strong>不再使用 anchor boxes</strong></li>
<li>每个 grid cell 直接预测：
<ul>
<li>中心点偏移 (tx, ty)</li>
<li>宽高 (tw, th)（以 stride 为单位）</li>
<li>分类分数（多标签 BCE）</li>
<li>objectness（部分版本保留）</li>
</ul>
</li>
<li>输出维度：H × W × (4 + C)</li>
</ul>
<blockquote>
<p>Anchor-Free 设计简化了超参（无需聚类 anchors），并减少 NMS 后处理负担。</p>
</blockquote>
<h3 id="4-关键技术详解-2">4. 关键技术详解</h3>
<h4 id="4-1-结构重参数化（Reparameterization）">4.1 结构重参数化（Reparameterization）</h4>
<ul>
<li><strong>训练时</strong>：使用多分支结构（如 3×3 conv + 1×1 conv + identity）增强表达能力</li>
<li><strong>推理时</strong>：将多分支等效融合为单个 3×3 卷积，<strong>零额外延迟</strong></li>
<li>优势：训练更强，推理更快，适合部署</li>
</ul>
<h4 id="4-2-SimOTA-标签分配">4.2 SimOTA 标签分配</h4>
<ul>
<li>动态选择正样本：基于预测框与 GT 的 cost（IoU + 分类 loss）</li>
<li>解决传统静态分配（如 YOLOv3 的中心点规则）导致的样本不平衡问题</li>
<li>提升小目标和密集场景的召回率</li>
</ul>
<h4 id="4-3-自蒸馏（Self-Distillation）">4.3 自蒸馏（Self-Distillation）</h4>
<ul>
<li>使用 EMA（指数移动平均）模型作为教师</li>
<li>对分类和回归输出施加 KL 散度或 L2 损失</li>
<li>尤其提升 <strong>YOLOv6-Nano/Tiny</strong> 等小模型的精度（+1～2 mAP）</li>
</ul>
<h4 id="4-4-硬件感知优化">4.4 硬件感知优化</h4>
<ul>
<li>避免使用 depthwise convolution（在 GPU 上效率低）</li>
<li>减少特征图通道跳跃（如 96 → 128 → 256 而非 96 → 256）</li>
<li>对齐 Tensor Core 的 8/16 通道对齐要求</li>
</ul>
<h3 id="5-模型系列">5. 模型系列</h3>
<p>YOLOv6 提供多个尺寸版本，适配不同算力平台：</p>
<table>
<thead>
<tr>
<th>模型</th>
<th>输入尺寸</th>
<th>参数量</th>
<th>FLOPs</th>
<th>COCO mAP@0.5</th>
<th>推理速度（Tesla T4）</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>YOLOv6-N</strong>（Nano）</td>
<td>416</td>
<td>4.0M</td>
<td>4.7G</td>
<td>31.2</td>
<td>～1.3 ms</td>
</tr>
<tr>
<td><strong>YOLOv6-T</strong>（Tiny）</td>
<td>640</td>
<td>15.0M</td>
<td>36.7G</td>
<td>41.3</td>
<td>～2.5 ms</td>
</tr>
<tr>
<td><strong>YOLOv6-S</strong>（Small）</td>
<td>640</td>
<td>34.3M</td>
<td>85.8G</td>
<td>43.6</td>
<td>～3.8 ms</td>
</tr>
<tr>
<td><strong>YOLOv6-M</strong>（Medium）</td>
<td>640</td>
<td>59.4M</td>
<td>150.7G</td>
<td>49.0</td>
<td>～6.2 ms</td>
</tr>
<tr>
<td><strong>YOLOv6-L</strong>（Large）</td>
<td>640</td>
<td>77.1M</td>
<td>214.0G</td>
<td>51.8</td>
<td>～8.5 ms</td>
</tr>
</tbody>
</table>
<blockquote>
<p>所有模型均在 COCO train2017 上训练，测试使用 val2017。</p>
</blockquote>
<h3 id="6-性能对比（COCO-val2017）-2">6. 性能对比（COCO val2017）</h3>
<table>
<thead>
<tr>
<th>模型</th>
<th>mAP@0.5</th>
<th>mAP@[0.5:0.95]</th>
<th>推理速度（T4, ms）</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>YOLOv5s</td>
<td>56.8</td>
<td>37.4</td>
<td>～2.8</td>
<td>Anchor-based</td>
</tr>
<tr>
<td>YOLOv6-T</td>
<td><strong>59.5</strong></td>
<td><strong>41.3</strong></td>
<td><strong>～2.5</strong></td>
<td>Anchor-free</td>
</tr>
<tr>
<td>YOLOv6-S</td>
<td><strong>63.3</strong></td>
<td><strong>44.5</strong></td>
<td>～3.8</td>
<td>—</td>
</tr>
<tr>
<td>PP-YOLOE-S</td>
<td>61.2</td>
<td>43.0</td>
<td>～4.0</td>
<td>PaddlePaddle</td>
</tr>
<tr>
<td>EfficientDet-D2</td>
<td>60.0</td>
<td>42.0</td>
<td>～15</td>
<td>—</td>
</tr>
</tbody>
</table>
<blockquote>
<p>YOLOv6 在相同 FLOPs 下，精度显著优于 YOLOv5，且推理更快。</p>
</blockquote>
<h3 id="7-优缺点分析-3">7. 优缺点分析</h3>
<h4 id="优点：-6">优点：</h4>
<ul>
<li><strong>Anchor-Free 简化流程</strong>：无需 anchor 聚类，部署更轻量</li>
<li><strong>重参数化提升效率</strong>：训练强，推理快，无额外开销</li>
<li><strong>工业级优化</strong>：专为 GPU/NPU 部署设计，延迟低</li>
<li><strong>开源完善</strong>：提供 PyTorch 训练 + TensorRT/C++ 推理 SDK</li>
<li><strong>自蒸馏有效</strong>：小模型精度提升明显</li>
</ul>
<h4 id="缺点：-6">缺点：</h4>
<ul>
<li><strong>早期版本不支持多尺度训练</strong>（v3.0+ 已加入）</li>
<li><strong>对极小目标检测仍弱于 FPN-heavy 模型</strong></li>
<li><strong>社区生态略逊于 YOLOv5</strong></li>
</ul>
<h3 id="9-总结-3">9. 总结</h3>
<p>YOLOv6 是 YOLO 系列中首个由工业界主导、深度面向部署优化的版本。它通过结构重参数化、Anchor-Free 设计、自蒸馏和硬件感知架构，在精度与速度之间取得了新的平衡。尤其在边缘计算和视频监控场景中，YOLOv6 展现出强大的实用价值。<br>
尽管 YOLOv8 等后续版本进一步演进，YOLOv6 凭借其高效的 Rep-based 结构和工业级工程实现，仍是高吞吐、低延迟检测任务的重要选择。</p>
<hr>
<h2 id="YOLOv7（You-Only-Look-Once-v7）">YOLOv7（You Only Look Once v7）</h2>
<h3 id="1-概述-7">1. 概述</h3>
<p>YOLOv7 由 <strong>Alexey Bochkovskiy 团队</strong>（YOLOv4 作者）与 <strong>Chien-Yao Wang</strong>（YOLOv4 共同作者）于 2022 年 7 月提出，发表在论文《YOLOv7: Trainable Bag-of-Freebies Sets New State-of-the-Art for Real-Time Object Detectors》中。作为 YOLO 系列的又一里程碑，YOLOv7 在<strong>不增加推理成本的前提下，通过可训练的“免费赠品”（Trainable Bag-of-Freebies）技术，刷新了实时目标检测的精度记录</strong>。</p>
<p>YOLOv7 的核心思想是：<strong>优化训练过程本身，使模型在相同架构下学到更优表示</strong>。它在 COCO 数据集上以 <strong>56.8% mAP@[0.5:0.95]</strong> 的成绩超越所有已知实时检测器（包括 YOLOv5、YOLOv6、Scaled-YOLOv4），同时保持 30+ FPS 的推理速度（V100 GPU）。</p>
<h3 id="2-核心创新-2">2. 核心创新</h3>
<table>
<thead>
<tr>
<th>技术</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Extended Efficient Layer Aggregation Networks (E-ELAN)</strong></td>
<td>改进特征聚合方式，提升梯度流效率</td>
</tr>
<tr>
<td><strong>Model Scaling for Concatenation-based Models</strong></td>
<td>提出适用于拼接型网络的缩放策略</td>
</tr>
<tr>
<td><strong>Trainable Bag-of-Freebies (BoF)</strong></td>
<td>引入可学习的数据增强与标签分配机制</td>
</tr>
<tr>
<td><strong>Coarse-to-Fine Dynamic Label Assignment</strong></td>
<td>动态、多尺度正负样本分配策略</td>
</tr>
<tr>
<td><strong>Auxiliary Head with Implicit Knowledge</strong></td>
<td>辅助检测头引入隐式表示，提升主干学习能力</td>
</tr>
</tbody>
</table>
<h3 id="3-网络架构-4">3. 网络架构</h3>
<p>YOLOv7 延续 “Backbone + Neck + Head” 结构，但进行了深度优化：</p>
<h4 id="3-1-Backbone：Modified-CSPDarknet-E-ELAN">3.1 Backbone：Modified CSPDarknet + E-ELAN</h4>
<ul>
<li>基于 CSPDarknet 改进，引入 <strong>E-ELAN（Extended ELAN）</strong></li>
<li>E-ELAN 通过<strong>分组卷积 + 拼接</strong>扩展计算路径，<strong>不增加推理延迟</strong>，但增强特征多样性</li>
<li>使用 <strong>MP-1 Conv</strong>（MaxPool + Conv）替代 stride=2 卷积，保留更多空间信息</li>
</ul>
<h4 id="3-2-Neck：改进-PANet">3.2 Neck：改进 PANet</h4>
<ul>
<li>融合自顶向下与自底向上路径</li>
<li>引入 <strong>concatenation-based skip connections</strong>，增强多尺度特征融合</li>
</ul>
<h4 id="3-3-Head：Anchor-Based-多尺度输出">3.3 Head：Anchor-Based 多尺度输出</h4>
<ul>
<li>三个输出层（P3/P4/P5），对应小/中/大物体</li>
<li>每层预测 3 个 anchor boxes（共 9 个，由 k-means 聚类获得）</li>
<li>输出：(x, y, w, h, objectness, class_probs)</li>
</ul>
<blockquote>
<p>与 YOLOv5 类似，但结构更高效。</p>
</blockquote>
<h3 id="4-关键技术详解-3">4. 关键技术详解</h3>
<h4 id="4-1-可训练的-Bag-of-Freebies（Trainable-BoF）">4.1 可训练的 Bag-of-Freebies（Trainable BoF）</h4>
<p>传统 BoF（如 Mosaic、MixUp）是固定的。YOLOv7 提出<strong>可学习的增强与分配机制</strong>：</p>
<ul>
<li><strong>Dynamic Label Assignment</strong>：根据预测质量动态分配正样本</li>
<li><strong>Implicit Knowledge in Auxiliary Head</strong>：辅助头不参与最终推理，但通过隐式表示（如矩阵变换）引导主干学习</li>
</ul>
<h4 id="4-2-Coarse-to-Fine-动态标签分配">4.2 Coarse-to-Fine 动态标签分配</h4>
<ul>
<li>同时考虑 <strong>主检测头（lead head）</strong> 和 <strong>辅助检测头（auxiliary head）</strong> 的预测</li>
<li>构建 cost matrix（含分类 loss + IoU + objectness）</li>
<li>使用 <strong>SimOTA 或 Hungarian Matching</strong> 选择最优正样本</li>
<li>实现“粗到精”的监督信号，提升收敛质量</li>
</ul>
<h4 id="4-3-模型缩放策略（Model-Scaling）">4.3 模型缩放策略（Model Scaling）</h4>
<ul>
<li>针对 <strong>concatenation-based 网络</strong>（非 add-based 如 ResNet）设计新缩放规则</li>
<li>同时调整 depth（层数）、width（通道数）、resolution</li>
<li>衍生出 YOLOv7-Tiny / YOLOv7 / YOLOv7-X / YOLOv7-W6 / E6 / D6 / E6E 等多个版本</li>
</ul>
<h4 id="4-4-辅助训练头（Auxiliary-Head）">4.4 辅助训练头（Auxiliary Head）</h4>
<ul>
<li>在训练阶段添加一个<strong>额外的检测头</strong></li>
<li>该头使用<strong>隐式表示模块</strong>（如 implicit knowledge layer）增强表达能力</li>
<li><strong>推理时完全移除</strong>，零推理开销</li>
<li>作用：提供更强的监督信号，防止主干过拟合</li>
</ul>
<h3 id="5-模型系列与性能（COCO-test-dev）">5. 模型系列与性能（COCO test-dev）</h3>
<table>
<thead>
<tr>
<th>模型</th>
<th>输入尺寸</th>
<th>参数量</th>
<th>FLOPs</th>
<th>mAP@0.5</th>
<th>mAP@[0.5:0.95]</th>
<th>速度（V100, FPS）</th>
</tr>
</thead>
<tbody>
<tr>
<td>YOLOv5x</td>
<td>640</td>
<td>86.7M</td>
<td>205.7G</td>
<td>65.7</td>
<td>50.7</td>
<td>～20</td>
</tr>
<tr>
<td>YOLOv6-L</td>
<td>640</td>
<td>77.1M</td>
<td>214.0G</td>
<td>65.8</td>
<td>51.8</td>
<td>～25</td>
</tr>
<tr>
<td><strong>YOLOv7</strong></td>
<td><strong>640</strong></td>
<td><strong>36.9M</strong></td>
<td><strong>104.7G</strong></td>
<td><strong>69.7</strong></td>
<td><strong>51.2</strong></td>
<td><strong>～35</strong></td>
</tr>
<tr>
<td><strong>YOLOv7-X</strong></td>
<td><strong>640</strong></td>
<td><strong>71.3M</strong></td>
<td><strong>193.4G</strong></td>
<td><strong>71.0</strong></td>
<td><strong>55.0</strong></td>
<td><strong>～25</strong></td>
</tr>
<tr>
<td><strong>YOLOv7-W6</strong></td>
<td><strong>1280</strong></td>
<td>51.0M</td>
<td>501.2G</td>
<td>73.3</td>
<td>57.0</td>
<td>～15</td>
</tr>
<tr>
<td><strong>YOLOv7-E6E</strong></td>
<td><strong>1536</strong></td>
<td>107.0M</td>
<td>1372.0G</td>
<td><strong>75.0</strong></td>
<td><strong>58.8</strong></td>
<td>～8</td>
</tr>
</tbody>
</table>
<blockquote>
<p>YOLOv7-X 以更低参数量超越 YOLOv5x 3.8 mAP@[0.5:0.95]，且更快。</p>
</blockquote>
<h3 id="6-训练策略">6. 训练策略</h3>
<ul>
<li><strong>优化器</strong>：SGD with momentum</li>
<li><strong>数据增强</strong>：Mosaic + MixUp + HSV + RandomAffine</li>
<li><strong>正则化</strong>：DropBlock、EMA（指数移动平均）</li>
<li><strong>损失函数</strong>：
<ul>
<li>分类：BCEWithLogitsLoss</li>
<li>定位：CIoU Loss</li>
<li>置信度：BCE Loss</li>
</ul>
</li>
<li><strong>多尺度训练</strong>：320–640（小模型）或 640–1280（大模型）</li>
</ul>
<h3 id="7-优缺点分析-4">7. 优缺点分析</h3>
<h4 id="优点：-7">优点：</h4>
<ul>
<li><strong>SOTA 精度</strong>：在实时检测器中 mAP@[0.5:0.95] 最高</li>
<li><strong>零推理开销的训练增强</strong>：Aux head、implicit knowledge 不影响部署</li>
<li><strong>高效缩放</strong>：覆盖从边缘到服务器的全场景</li>
<li><strong>开源完整</strong>：提供 Darknet 和 PyTorch 实现</li>
</ul>
<h4 id="缺点：-7">缺点：</h4>
<ul>
<li><strong>训练复杂度高</strong>：需较大显存（YOLOv7-X 建议 32GB+）</li>
<li><strong>大模型推理较慢</strong>：E6E 仅适合离线高精度场景</li>
<li><strong>工程门槛较高</strong>：隐式模块调试困难</li>
</ul>
<h3 id="8-总结">8. 总结</h3>
<p>YOLOv7 是 YOLO 系列中训练策略最先进、精度最高的实时检测器之一。它通过可训练的 Bag-of-Freebies、动态标签分配和辅助隐式学习，在不增加推理负担的前提下，显著提升了模型性能。其提出的 E-ELAN 和模型缩放方法也为后续研究提供了新思路。<br>
尽管 YOLOv8 等新框架在易用性上更胜一筹，YOLOv7 凭借其卓越的精度-速度平衡，仍是高要求工业场景（如自动驾驶、精密质检）的重要选择。</p>
<hr>
<h2 id="YOLOv8（You-Only-Look-Once-v8）">YOLOv8（You Only Look Once v8）</h2>
<h3 id="1-概述-8">1. 概述</h3>
<p>YOLOv8 由 <strong>Ultralytics</strong> 团队于 2023 年 1 月正式发布，是 YOLO 系列中首个<strong>统一多任务框架</strong>。作为 YOLOv5 的精神续作，YOLOv8 不仅全面优化了目标检测性能，更原生支持<strong>实例分割、姿态估计、图像分类、目标追踪</strong>四大任务，实现“一套代码，多任务覆盖”。</p>
<p>YOLOv8 的核心理念是：<strong>简化工作流、提升精度、强化部署能力</strong>。通过 Anchor-Free 架构、任务对齐分配器、解耦检测头等创新，在 COCO、Objects365 等基准上实现 SOTA 性能，同时提供极致友好的 Python API 与 CLI 工具链，成为当前工业界部署最广泛的目标检测框架之一。</p>
<blockquote>
<p>注：YOLOv8 无学术论文，技术细节源自官方文档、源码及社区验证。</p>
</blockquote>
<h3 id="2-核心创新-3">2. 核心创新</h3>
<table>
<thead>
<tr>
<th>技术</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Anchor-Free 检测头</strong></td>
<td>移除 anchor boxes，简化超参，提升小目标检测能力</td>
</tr>
<tr>
<td><strong>Task-Aligned Assigner (TAL)</strong></td>
<td>动态标签分配：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><msup><mi>t</mi><mi>α</mi></msup><mo>⋅</mo><mi>i</mi><mi>o</mi><msup><mi>u</mi><mi>β</mi></msup></mrow><annotation encoding="application/x-tex">s = t^\alpha \cdot iou^\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span></span></span></span></span></span></span></span></span></span></span>，对齐分类与定位质量</td>
</tr>
<tr>
<td><strong>C2f 模块</strong></td>
<td>替代 C3，增强梯度流，提升特征融合效率</td>
</tr>
<tr>
<td><strong>Distribution Focal Loss (DFL)</strong></td>
<td>将边界框坐标建模为分布，提升回归精度</td>
</tr>
<tr>
<td><strong>统一多任务架构</strong></td>
<td>检测/分割/姿态/分类共享骨干，Head 按任务定制</td>
</tr>
<tr>
<td><strong>Ultralytics HUB</strong></td>
<td>云端训练、数据管理、模型部署一体化平台</td>
</tr>
</tbody>
</table>
<h3 id="3-网络架构（检测任务）">3. 网络架构（检测任务）</h3>
<h4 id="3-1-Backbone：改进-CSPDarknet">3.1 Backbone：改进 CSPDarknet</h4>
<ul>
<li>使用 <strong>C2f 模块</strong>（跨阶段部分 + 多级特征融合）
<ul>
<li>比 C3 模块参数更少、梯度路径更丰富</li>
<li>内置 Shortcut 与多尺度特征拼接</li>
</ul>
</li>
<li>下采样：stride=2 卷积（移除早期 Focus 层）</li>
<li>激活函数：SiLU（Swish）</li>
</ul>
<h4 id="3-2-Neck：PAN-FPN-增强版">3.2 Neck：PAN-FPN 增强版</h4>
<ul>
<li>自顶向下 + 自底向上双向融合</li>
<li>特征图尺度：P3 (80×80), P4 (40×40), P5 (20×20) @640×640 输入</li>
</ul>
<h4 id="3-3-Head：解耦-Anchor-Free">3.3 Head：解耦 Anchor-Free</h4>
<ul>
<li><strong>分类分支</strong> 与 <strong>回归分支</strong> 完全分离</li>
<li>每个 grid cell 预测：
<ul>
<li>分类分数（多标签 BCE）</li>
<li>边界框 (x, y, w, h) — 以 stride 为单位</li>
</ul>
</li>
<li>无 objectness 置信度（由分类分数隐式表达）</li>
</ul>
<blockquote>
<p>分割任务：在 Head 增加 <strong>Mask Proto Head</strong>，输出原型掩码 + 系数<br>
姿态任务：增加 <strong>关键点回归分支</strong>（x, y, visibility）</p>
</blockquote>
<h3 id="4-关键技术详解-4">4. 关键技术详解</h3>
<h4 id="4-1-Task-Aligned-Assigner-TAL">4.1 Task-Aligned Assigner (TAL)</h4>
<ul>
<li>
<p>正样本分配依据：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mo>=</mo><msup><mi>t</mi><mi>α</mi></msup><mo>⋅</mo><msup><mtext>IoU</mtext><mi>β</mi></msup></mrow><annotation encoding="application/x-tex">s = t^\alpha \cdot \text{IoU}^\beta
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7144em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9223em;"></span><span class="mord"><span class="mord text"><span class="mord">IoU</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9223em;"><span style="top:-3.1362em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span></span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span> ：分类置信度，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>IoU</mtext></mrow><annotation encoding="application/x-tex">\text{IoU}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">IoU</span></span></span></span></span> ：预测框与 GT 重叠度</li>
<li>$(\alpha, \beta) $：平衡超参（默认 1.0, 6.0）</li>
</ul>
</li>
<li>
<p>动态选择 Top-k 高分样本作为正样本</p>
</li>
<li>
<p><strong>解决分类-定位质量不一致问题</strong>，显著提升 AP</p>
</li>
</ul>
<h4 id="4-2-Distribution-Focal-Loss-DFL">4.2 Distribution Focal Loss (DFL)</h4>
<ul>
<li>将边界框坐标建模为离散分布（如 16 维向量）</li>
<li>通过 Softmax + 积分计算最终坐标</li>
<li>优势：缓解边界框回归的“硬标签”问题，提升定位鲁棒性</li>
</ul>
<h4 id="4-3-多任务统一设计">4.3 多任务统一设计</h4>
<table>
<thead>
<tr>
<th>任务</th>
<th>模型后缀</th>
<th>Head 特性</th>
</tr>
</thead>
<tbody>
<tr>
<td>目标检测</td>
<td><code>yolov8n.pt</code></td>
<td>Anchor-Free 检测头</td>
</tr>
<tr>
<td>实例分割</td>
<td><code>yolov8n-seg.pt</code></td>
<td>+ Mask Proto Head</td>
</tr>
<tr>
<td>姿态估计</td>
<td><code>yolov8n-pose.pt</code></td>
<td>+ 关键点回归分支</td>
</tr>
<tr>
<td>图像分类</td>
<td><code>yolov8n-cls.pt</code></td>
<td>全局池化 + FC 层</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="5-模型系列（COCO-val2017）">5. 模型系列（COCO val2017）</h3>
<table>
<thead>
<tr>
<th>模型</th>
<th>参数量</th>
<th>FLOPs</th>
<th>mAP@0.5</th>
<th>mAP@[0.5:0.95]</th>
<th>推理速度 (V100)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>YOLOv8n</strong></td>
<td>3.2M</td>
<td>8.7G</td>
<td>50.6</td>
<td>37.3</td>
<td><strong>～1.0 ms</strong></td>
</tr>
<tr>
<td><strong>YOLOv8s</strong></td>
<td>11.2M</td>
<td>28.6G</td>
<td>56.1</td>
<td>44.9</td>
<td>～1.5 ms</td>
</tr>
<tr>
<td><strong>YOLOv8m</strong></td>
<td>25.9M</td>
<td>78.9G</td>
<td>59.0</td>
<td>49.9</td>
<td>～2.5 ms</td>
</tr>
<tr>
<td><strong>YOLOv8l</strong></td>
<td>43.7M</td>
<td>165.2G</td>
<td>60.6</td>
<td>52.9</td>
<td>～3.5 ms</td>
</tr>
<tr>
<td><strong>YOLOv8x</strong></td>
<td>68.2M</td>
<td>257.8G</td>
<td>61.2</td>
<td>53.9</td>
<td>～5.0 ms</td>
</tr>
</tbody>
</table>
<blockquote>
<p>对比 YOLOv5x：YOLOv8x mAP@[0.5:0.95] +3.2，速度提升 25%</p>
</blockquote>
<h3 id="6-多任务性能亮点">6. 多任务性能亮点</h3>
<h4 id="实例分割（COCO-val）">实例分割（COCO val）</h4>
<ul>
<li>YOLOv8x-seg：mAP_mask = <strong>44.1</strong>（超越 Mask R-CNN 5.2 点）</li>
<li>推理速度：～8 ms（V100），支持实时分割</li>
</ul>
<h4 id="姿态估计（COCO-val）">姿态估计（COCO val）</h4>
<ul>
<li>YOLOv8x-pose：AP_keypoints = <strong>72.8</strong></li>
<li>支持 17 关键点（COCO）或自定义关键点数量</li>
</ul>
<h4 id="图像分类（ImageNet-1k）">图像分类（ImageNet-1k）</h4>
<ul>
<li>YOLOv8x-cls：Top-1 Acc = <strong>82.7%</strong></li>
<li>推理速度：～0.8 ms（batch=1, V100）</li>
</ul>
<h3 id="8-优缺点分析">8. 优缺点分析</h3>
<h4 id="优势">优势</h4>
<ul>
<li><strong>真正的多任务框架</strong>：检测/分割/姿态/分类开箱即用</li>
<li><strong>极致易用性</strong>：统一 CLI + Python API，5 行代码完成训练/推理</li>
<li><strong>部署全覆盖</strong>：支持 ONNX, TensorRT, CoreML, TFLite, OpenVINO, RKNN</li>
<li><strong>活跃生态</strong>：HUB 云平台、模型动物园、社区插件（SAM 集成等）</li>
<li><strong>精度-速度均衡</strong>：小模型（n/s）适合边缘，大模型（l/x）适合高精度场景</li>
</ul>
<h4 id="局限">局限</h4>
<ul>
<li>大模型（X）对显存要求高（训练需 24GB+）</li>
<li>Anchor-Free 对极端长宽比目标泛化略弱于 Anchor-Based</li>
<li>无官方学术论文，部分设计细节需源码验证</li>
</ul>
<h3 id="9-与-YOLO-系列对比">9. 与 YOLO 系列对比</h3>
<table>
<thead>
<tr>
<th style="text-align:left">特性</th>
<th style="text-align:left">YOLOv5</th>
<th style="text-align:left">YOLOv6</th>
<th style="text-align:left">YOLOv7</th>
<th style="text-align:left"><strong>YOLOv8</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Anchor</td>
<td style="text-align:left">✓</td>
<td style="text-align:left">✗</td>
<td style="text-align:left">✓</td>
<td style="text-align:left"><strong>✗</strong></td>
</tr>
<tr>
<td style="text-align:left">多任务</td>
<td style="text-align:left">✗</td>
<td style="text-align:left">✗</td>
<td style="text-align:left">✗</td>
<td style="text-align:left"><strong>✓ (检测/分割/姿态/分类)</strong></td>
</tr>
<tr>
<td style="text-align:left">标签分配</td>
<td style="text-align:left">Static</td>
<td style="text-align:left">SimOTA</td>
<td style="text-align:left">Dynamic</td>
<td style="text-align:left"><strong>Task-Aligned Assigner</strong></td>
</tr>
<tr>
<td style="text-align:left">损失函数</td>
<td style="text-align:left">CIoU</td>
<td style="text-align:left">SIoU</td>
<td style="text-align:left">EIoU</td>
<td style="text-align:left"><strong>DFL + CIoU</strong></td>
</tr>
<tr>
<td style="text-align:left">部署工具链</td>
<td style="text-align:left">良好</td>
<td style="text-align:left">一般</td>
<td style="text-align:left">良好</td>
<td style="text-align:left"><strong>极佳（Ultralytics Engine）</strong></td>
</tr>
<tr>
<td style="text-align:left">社区活跃度</td>
<td style="text-align:left">高</td>
<td style="text-align:left">中</td>
<td style="text-align:left">中</td>
<td style="text-align:left"><strong>极高</strong></td>
</tr>
</tbody>
</table>
<h3 id="10-总结-3">10. 总结</h3>
<p>YOLOv8 代表了 YOLO 系列从“单一检测器”向“通用视觉基础模型”的关键跃迁。它通过<strong>架构精简（Anchor-Free）、训练优化（TAL+DFL）、任务统一（Detection+Segmentation+Pose+Classification）</strong> 三大支柱，在保持 Ultralytics 一贯易用性的同时，将精度与部署效率推向新高度。</p>
<p>无论是科研快速验证、工业级部署，还是边缘设备落地，YOLOv8 凭借其模块化设计、完善文档与活跃社区，已成为 2023–2026 年计算机视觉领域的<strong>事实标准工具</strong>。随着 Ultralytics HUB 与持续更新（v8.1/v8.2+），其生态影响力仍在快速扩展。</p>
<hr>
<h1>YOLOv9（You Only Look Once v9）技术文档</h1>
<h2 id="1-概述-9">1. 概述</h2>
<p>YOLOv9 由 <strong>Alexey Bochkovskiy 团队</strong>（YOLOv4/v7 作者）与 <strong>Chien-Yao Wang</strong> 于 <strong>2024 年 1 月</strong>正式提出，发表在论文《YOLOv9: Learning What You Want to Learn Using Programmable Gradient Information》中。作为 YOLO 系列的突破性迭代，YOLOv9 首次系统性解决<strong>深度神经网络中的信息瓶颈问题</strong>，提出 <strong>可编程梯度信息（PGI）</strong> 与 <strong>通用高效层聚合网络（GELAN）</strong>，在保持实时推理速度的同时，在 COCO、VisDrone 等多个基准上刷新 SOTA 记录。</p>
<p>YOLOv9 的核心理念是：<strong>让网络“学会学习”</strong>——通过设计可传递完整梯度信息的架构，使浅层特征也能获得高质量监督信号，显著提升小目标检测与密集场景表现，同时避免传统深度监督（Deep Supervision）带来的信息损耗。</p>
<h2 id="2-核心创新-4">2. 核心创新</h2>
<table>
<thead>
<tr>
<th>技术</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PGI（Programmable Gradient Information）</strong></td>
<td>可编程梯度信息：构建辅助可逆路径，将完整梯度信息“编程”回浅层，解决信息瓶颈</td>
</tr>
<tr>
<td><strong>GELAN（Generalized ELAN）</strong></td>
<td>通用高效层聚合网络：兼容 Conv/DWConv 等计算单元，兼顾精度与硬件效率</td>
</tr>
<tr>
<td><strong>CSP-ELAN 模块</strong></td>
<td>跨阶段部分连接 + ELAN，增强梯度流，减少重复计算</td>
</tr>
<tr>
<td><strong>新型模型缩放策略</strong></td>
<td>针对 GELAN 架构设计深度/宽度/分辨率联合缩放规则</td>
</tr>
<tr>
<td><strong>轻量级辅助头设计</strong></td>
<td>仅训练时启用，推理零开销，强化梯度传播</td>
</tr>
</tbody>
</table>
<h2 id="3-网络架构-5">3. 网络架构</h2>
<h3 id="3-1-整体框架">3.1 整体框架</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input → [GELAN Backbone] → [Enhanced PAN Neck] → [Task-Specific Heads]</span><br><span class="line">↑</span><br><span class="line">[PGI Auxiliary Path] (训练时启用)</span><br></pre></td></tr></table></figure>
<h3 id="3-2-Backbone：GELAN">3.2 Backbone：GELAN</h3>
<ul>
<li><strong>核心思想</strong>：将 ELAN（Efficient Layer Aggregation Network）泛化为可适配任意计算模块的框架</li>
<li><strong>结构特点</strong>：
<ul>
<li>采用 <strong>CSP-ELAN</strong> 模块：输入通道分两路，一路经多级 ELAN 处理，一路直连</li>
<li>支持灵活替换基础计算单元（Standard Conv / Depthwise Conv / Ghost Conv）</li>
<li>梯度路径显式设计，避免信息压缩</li>
</ul>
</li>
<li><strong>优势</strong>：在相同 FLOPs 下，比 YOLOv7 的 E-ELAN 提升 1.5–2.0 mAP</li>
</ul>
<h3 id="3-3-PGI-辅助路径（训练专属）">3.3 PGI 辅助路径（训练专属）</h3>
<ul>
<li>在骨干网络中嵌入<strong>可逆辅助分支</strong></li>
<li>该分支：
<ul>
<li>接收深层监督信号</li>
<li>通过可学习映射将完整梯度“编程”回浅层特征</li>
<li><strong>推理时完全移除</strong>，零延迟开销</li>
</ul>
</li>
<li>解决传统 Deep Supervision 中因多次下采样导致的梯度稀释问题</li>
</ul>
<h3 id="3-4-Neck-与-Head">3.4 Neck 与 Head</h3>
<ul>
<li><strong>Neck</strong>：增强版 PANet，融合 PGI 优化后的多尺度特征</li>
<li><strong>Head</strong>：
<ul>
<li>检测：Anchor-Free + Task-Aligned Assigner（继承 YOLOv8 优化）</li>
<li>分割/姿态：扩展专用 Head（社区实现）</li>
</ul>
</li>
<li>输出：分类分数 + 边界框（DFL 回归）</li>
</ul>
<h2 id="4-关键技术详解-5">4. 关键技术详解</h2>
<h3 id="4-1-可编程梯度信息（PGI）">4.1 可编程梯度信息（PGI）</h3>
<ul>
<li><strong>问题</strong>：传统深度监督中，辅助头预测的浅层特征因感受野小、语义弱，导致梯度质量低</li>
<li><strong>PGI 方案</strong>：
<ol>
<li>构建可逆辅助路径（含上采样与特征重建模块）</li>
<li>将主干深层高质量特征“映射”回浅层空间</li>
<li>通过可学习参数动态调整梯度回传强度</li>
</ol>
</li>
<li><strong>效果</strong>：浅层特征获得与深层等效的监督质量，小目标 AP 提升 4.2%</li>
</ul>
<h3 id="4-2-GELAN-架构优势">4.2 GELAN 架构优势</h3>
<table>
<thead>
<tr>
<th>特性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>硬件友好</strong></td>
<td>避免不规则操作（如大核 DWConv），适配 Tensor Core/NPU</td>
</tr>
<tr>
<td><strong>模块解耦</strong></td>
<td>计算单元（Conv/DWConv）与连接策略（ELAN）分离，便于定制</td>
</tr>
<tr>
<td><strong>梯度高效</strong></td>
<td>CSP + ELAN 双重设计，缓解梯度消失，支持更深网络</td>
</tr>
</tbody>
</table>
<h3 id="4-3-模型缩放策略">4.3 模型缩放策略</h3>
<ul>
<li>提出 <strong>GELAN-specific scaling rules</strong>：
<ul>
<li>深度缩放：调整 ELAN 模块堆叠数</li>
<li>宽度缩放：按比例调整通道数（遵循通道对齐原则）</li>
<li>分辨率缩放：320 → 1280 动态适配</li>
</ul>
</li>
<li>衍生模型：YOLOv9-T/S/M/C/E（C: Compact, E: Extra-large）</li>
</ul>
<h2 id="5-性能表现（COCO-test-dev）">5. 性能表现（COCO test-dev）</h2>
<table>
<thead>
<tr>
<th>模型</th>
<th>输入尺寸</th>
<th>参数量</th>
<th>FLOPs</th>
<th>mAP@0.5</th>
<th>mAP@[0.5:0.95]</th>
<th>速度 (V100)</th>
</tr>
</thead>
<tbody>
<tr>
<td>YOLOv8x</td>
<td>640</td>
<td>68.2M</td>
<td>257.8G</td>
<td>61.2</td>
<td>53.9</td>
<td>～5.0 ms</td>
</tr>
<tr>
<td>YOLOv7-E6E</td>
<td>1536</td>
<td>107.0M</td>
<td>1372G</td>
<td>75.0</td>
<td>58.8</td>
<td>～125 ms</td>
</tr>
<tr>
<td><strong>YOLOv9-C</strong></td>
<td><strong>640</strong></td>
<td><strong>25.4M</strong></td>
<td><strong>71.1G</strong></td>
<td><strong>67.1</strong></td>
<td><strong>53.0</strong></td>
<td><strong>～4.2 ms</strong></td>
</tr>
<tr>
<td><strong>YOLOv9-E</strong></td>
<td><strong>1280</strong></td>
<td><strong>57.8M</strong></td>
<td><strong>239.5G</strong></td>
<td><strong>73.5</strong></td>
<td><strong>55.0</strong></td>
<td><strong>～18.3 ms</strong></td>
</tr>
</tbody>
</table>
<h3 id="小目标检测（COCO-APₛ）">小目标检测（COCO APₛ）</h3>
<table>
<thead>
<tr>
<th>模型</th>
<th>APₛ</th>
</tr>
</thead>
<tbody>
<tr>
<td>YOLOv8x</td>
<td>38.5</td>
</tr>
<tr>
<td>YOLOv7-E6E</td>
<td>41.2</td>
</tr>
<tr>
<td><strong>YOLOv9-E</strong></td>
<td><strong>45.7</strong></td>
</tr>
</tbody>
</table>
<blockquote>
<p>YOLOv9-E 以更低 FLOPs 超越 YOLOv7-E6E 1.5 mAP@[0.5:0.95]，小目标检测提升显著</p>
</blockquote>
<h3 id="VisDrone2019（无人机场景）">VisDrone2019（无人机场景）</h3>
<table>
<thead>
<tr>
<th>模型</th>
<th>AP</th>
</tr>
</thead>
<tbody>
<tr>
<td>YOLOv8x</td>
<td>28.3</td>
</tr>
<tr>
<td><strong>YOLOv9-E</strong></td>
<td><strong>34.1</strong></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="6-训练与部署">6. 训练与部署</h2>
<h3 id="训练策略">训练策略</h3>
<ul>
<li>
<p><strong>优化器</strong>：SGD + Cosine LR decay</p>
</li>
<li>
<p><strong>增强</strong>：Mosaic + MixUp + Copy-Paste（小目标专用）</p>
</li>
<li>
<p><strong>PGI 启用</strong>：仅训练阶段激活辅助路径</p>
</li>
<li>
<p><strong>硬件要求</strong>：YOLOv9-E 建议 48GB+ GPU 显存</p>
</li>
<li>
<p><strong>支持格式</strong>：ONNX, TensorRT, OpenVINO, CoreML, TFLite</p>
</li>
<li>
<p><strong>推理库</strong>：提供 C++/Python SDK（含预处理/后处理）</p>
</li>
</ul>
<h2 id="7-优缺点分析-5">7. 优缺点分析</h2>
<h3 id="优势-2">优势</h3>
<ul>
<li><strong>突破信息瓶颈</strong>：PGI 使浅层特征获得高质量监督，小目标检测显著提升</li>
<li><strong>架构通用性强</strong>：GELAN 可适配多种硬件与计算单元</li>
<li><strong>精度-效率新标杆</strong>：同等速度下 mAP 超越所有实时检测器</li>
<li><strong>训练-推理解耦</strong>：辅助路径零推理开销</li>
<li><strong>开源完整</strong>：官方提供 PyTorch 训练代码 + 多平台部署方案</li>
</ul>
<h3 id="局限-2">局限</h3>
<ul>
<li>训练复杂度高（需管理辅助路径）</li>
<li>大模型（E）对训练资源要求苛刻</li>
<li>多任务支持需社区扩展（官方聚焦检测）</li>
</ul>
<h2 id="9-与-YOLO-系列演进对比">9. 与 YOLO 系列演进对比</h2>
<table>
<thead>
<tr>
<th style="text-align:left">版本</th>
<th style="text-align:left">核心突破</th>
<th style="text-align:left">信息流优化</th>
<th style="text-align:left">小目标 APₛ</th>
<th style="text-align:left">定位</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">YOLOv5</td>
<td style="text-align:left">工程易用性</td>
<td style="text-align:left">✗</td>
<td style="text-align:left">35.1</td>
<td style="text-align:left">工业部署首选</td>
</tr>
<tr>
<td style="text-align:left">YOLOv6</td>
<td style="text-align:left">Rep 重参数化</td>
<td style="text-align:left">✗</td>
<td style="text-align:left">36.8</td>
<td style="text-align:left">边缘设备优化</td>
</tr>
<tr>
<td style="text-align:left">YOLOv7</td>
<td style="text-align:left">可训练 BoF</td>
<td style="text-align:left">△（辅助头）</td>
<td style="text-align:left">39.5</td>
<td style="text-align:left">训练策略创新</td>
</tr>
<tr>
<td style="text-align:left">YOLOv8</td>
<td style="text-align:left">多任务统一</td>
<td style="text-align:left">✗</td>
<td style="text-align:left">38.5</td>
<td style="text-align:left">全场景框架</td>
</tr>
<tr>
<td style="text-align:left"><strong>YOLOv9</strong></td>
<td style="text-align:left"><strong>PGI + GELAN</strong></td>
<td style="text-align:left"><strong>✓（可编程梯度）</strong></td>
<td style="text-align:left"><strong>45.7</strong></td>
<td style="text-align:left"><strong>信息瓶颈突破</strong></td>
</tr>
</tbody>
</table>
<blockquote>
<p>△：辅助头提供监督但未解决梯度稀释；✓：PGI 主动重构高质量梯度回传路径</p>
</blockquote>
<h2 id="10-总结-4">10. 总结</h2>
<p>YOLOv9 是 YOLO 系列中<strong>首次从信息理论层面重构检测架构</strong>的里程碑工作。它不再局限于模块堆叠或训练技巧优化，而是直面深度网络的根本挑战——<strong>信息瓶颈</strong>，通过 PGI 技术让网络“学会传递有效学习信号”，实现精度与效率的双重飞跃。</p>
<p>在无人机巡检、卫星遥感、密集人群分析等小目标密集场景中，YOLOv9 展现出不可替代的优势。其提出的 GELAN 架构与 PGI 思想，也为后续视觉基础模型设计提供了全新范式。</p>
<blockquote>
<p>🌐 <strong>开源地址</strong>：<a target="_blank" rel="noopener" href="https://github.com/WongKinYiu/yolov9">https://github.com/WongKinYiu/yolov9</a><br>
📄 <strong>论文链接</strong>：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2402.13616">https://arxiv.org/abs/2402.13616</a></p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://blog.sunlingzhang.com">神火不知灭</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://blog.sunlingzhang.com/2026/02/03/Paper/YOLO%E7%B3%BB%E5%88%97%E8%AE%BA%E6%96%87%E8%A7%A3%E8%AF%BB/">http://blog.sunlingzhang.com/2026/02/03/Paper/YOLO%E7%B3%BB%E5%88%97%E8%AE%BA%E6%96%87%E8%A7%A3%E8%AF%BB/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/paper/">paper</a><a class="post-meta__tags" href="/tags/Detection/">Detection</a><a class="post-meta__tags" href="/tags/YOLO/">YOLO</a><a class="post-meta__tags" href="/tags/CV/">CV</a></div><div class="post-share"><div class="social-share" data-image="/admin_head.jpg" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2026/02/04/Paper/YOLOv10/" title="YOLOv10技术文档"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">YOLOv10技术文档</div></div><div class="info-2"><div class="info-item-1">[TOC] 核心摘要   端到端革命: 通过无NMS训练策略，彻底消除后处理，实现真正的端到端实时检测，显著降低延迟。   效率与精度: 通过轻量化模型设计，在保持高精度的同时，参数量和计算量显著降低，实现双赢。   硬件适配: 提供从边缘设备到高性能GPU服务器的全系列预训练模型，满足不同硬件的部署需求。   1. 概述 YOLOv10（You Only Look Once v10）是清华大学THU-MIG团队与Ultralytics合作开发的新一代实时端到端目标检测框架，于2024年5月正式发布。作为YOLO系列的里程碑式迭代，YOLOv10通过创新性的无NMS（非极大值抑制）训练策略和效率-精度驱动的模型设计，在保持高精度的同时显著降低了计算复杂度，实现了真正的端到端实时检测。 YOLOv10的核心突破在于：  完全消除NMS后处理：通过&quot;一致双分配&quot;策略，使模型在训练时利用多标签监督，推理时直接输出最终检测框，无需依赖后处理 全面优化计算路径：通过轻量化分类头、空间-通道解耦下采样、基于秩的块设计等技术，实现参数与计算量的显著降低 多硬件适配：从边缘设...</div></div></div></a><a class="pagination-related" href="/2025/08/29/Work/python%E5%87%A0%E4%BD%95%E7%9B%B8%E4%BC%BC%E6%80%A7/" title="几何图形相似性判断"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">几何图形相似性判断</div></div><div class="info-2"><div class="info-item-1">1有两个CAD矢量图形，图形相似但是绘制存在旋转和缩放，怎么判断其相似性 判断两个矢量图形的相似性是计算机图形学、CAD、BIM、图像识别等领域的重要问题。由于矢量图形由点、线、曲线、多边形等几何元素构成，不能像像素图像那样直接用像素差比较，需要从几何结构、拓扑关系、形状特征等多个维度综合判断。   ✅ 一、相似性的定义（根据场景不同）    场景 相似性含义     几何匹配 形状、尺寸、角度接近   拓扑结构 连接方式、邻接关系一致   语义结构 功能相同（如“门”、“墙”）   变换不变性 平移、旋转、缩放后仍视为相似     ✅ 二、判断矢量图形相似性的常用方法 1. 基于几何特征的比较 (1) Hausdorff 距离（推荐） 衡量两个点集之间的最大最小距离，适合比较线段、多边形轮廓。 1234567from scipy.spatial.distance import directed_hausdorff# shape1, shape2 是两组点 [(x,y), ...]dist = max(    directed_hausdorff(shape1, shape2)[...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2026/02/05/Paper/YOLOv11/" title="YOLOv11技术文档"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-05</div><div class="info-item-2">YOLOv11技术文档</div></div><div class="info-2"><div class="info-item-1">[TOC] 1.概述 YOLOv11 是 Ultralytics 公司于 2024年9月30日正式发布的新一代目标检测框架。作为 YOLO 系列的第11代迭代，YOLOv11 在保持与 YOLOv8/v9/v10 高度兼容的 API 设计基础上，通过三大核心技术创新实现了精度与效率的双重突破：在 COCO 数据集上 mAP 指标平均提升 2-3 个百分点，同时推理速度提升约 15%，参数量减少 22%。 YOLOv11 的核心定位是**“面向复杂场景的轻量化实时检测”**，特别针对小目标检测、遮挡目标识别和密集场景分析进行了深度优化。其创新设计包括：  C3k2结构：替代 YOLOv8 的 C2f 模块，通过参数 c3k 控制浅层网络特性，优化计算效率。 新增C2PSA模块：在传统 C2 结构中嵌入位置敏感注意力机制（PSA），增强全局上下文建模能力。 深度可分离卷积应用：在分类分支中替换标准卷积为 DWConv，减少参数量 40%，降低显存占用 30%。 模型结构调整：通过调整 depth、width、max_channels 的比例参数，实现不同规模模型的性能平衡。  YOL...</div></div></div></a><a class="pagination-related" href="/2026/02/04/Paper/YOLOv10/" title="YOLOv10技术文档"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-04</div><div class="info-item-2">YOLOv10技术文档</div></div><div class="info-2"><div class="info-item-1">[TOC] 核心摘要   端到端革命: 通过无NMS训练策略，彻底消除后处理，实现真正的端到端实时检测，显著降低延迟。   效率与精度: 通过轻量化模型设计，在保持高精度的同时，参数量和计算量显著降低，实现双赢。   硬件适配: 提供从边缘设备到高性能GPU服务器的全系列预训练模型，满足不同硬件的部署需求。   1. 概述 YOLOv10（You Only Look Once v10）是清华大学THU-MIG团队与Ultralytics合作开发的新一代实时端到端目标检测框架，于2024年5月正式发布。作为YOLO系列的里程碑式迭代，YOLOv10通过创新性的无NMS（非极大值抑制）训练策略和效率-精度驱动的模型设计，在保持高精度的同时显著降低了计算复杂度，实现了真正的端到端实时检测。 YOLOv10的核心突破在于：  完全消除NMS后处理：通过&quot;一致双分配&quot;策略，使模型在训练时利用多标签监督，推理时直接输出最终检测框，无需依赖后处理 全面优化计算路径：通过轻量化分类头、空间-通道解耦下采样、基于秩的块设计等技术，实现参数与计算量的显著降低 多硬件适配：从边缘设...</div></div></div></a><a class="pagination-related" href="/2026/02/07/Paper/YOLOv13/" title="YOLOv13技术文档"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-07</div><div class="info-item-2">YOLOv13技术文档</div></div><div class="info-2"><div class="info-item-1">[TOC] 核心摘要   核心创新: 引入HyperACE超图机制与FullPAD范式，首次将超图计算应用于实时目标检测，实现全局高阶关联建模。   性能突破: 相比YOLOv12，参数量减少12%，COCO数据集mAP提升1.5%，边缘设备推理速度提升40%，实现精度与速度的平衡。   架构设计: 采用基于深度可分离卷积的轻量化设计，并发布Nano、Small、Large、X-Large四种变体，全面覆盖从边缘到云端的部署需求。   YOLOv13是Ultralytics团队于2025年推出的最新实时目标检测模型，它继承了YOLO系列&quot;一步到位&quot;的核心思想，同时在特征关联建模和网络架构设计上实现了革命性突破。YOLOv13引入了HyperACE（超图自适应相关性增强）机制和FullPAD（全流程聚合与分发）范式，首次将超图计算技术应用于实时目标检测领域，解决了传统YOLO系列模型在复杂场景下高阶语义关联建模能力不足的问题。此外，YOLOv13还采用了基于深度可分离卷积的轻量化设计，使模型在保持高精度的同时实现了更低的计算复杂度和更小的模型体积。 YOLOv1...</div></div></div></a><a class="pagination-related" href="/2026/02/06/Paper/YOLOv12/" title="YOLOv12技术文档"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-06</div><div class="info-item-2">YOLOv12技术文档</div></div><div class="info-2"><div class="info-item-1">[TOC] 核心摘要   核心范式: 首个以注意力机制为核心的实时目标检测模型，开创“注意力+实时检测”新范式。   关键创新: 引入区域注意力(A²)机制和残差高效层聚合网络(R-ELAN)两大核心技术。   性能突破: 在相似推理速度下，mAP提升约1.2%，小目标检测性能提升12%。   YOLOv12（You Only Look Once v12）是Ultralytics团队于2025年初推出的首个以注意力机制为核心的实时目标检测模型，它成功解决了注意力机制在实时检测任务中面临的计算复杂度高、内存访问效率低等核心挑战。YOLOv12通过引入区域注意力（A²）机制和残差高效层聚合网络（R-ELAN）两大核心技术，在保持与传统CNN架构相当推理速度的同时，实现了显著的精度提升。与前代YOLOv11相比，YOLOv12在相似推理速度下mAP提升约1.2%，同时小目标检测性能提升12%，为实时目标检测领域带来了革命性突破。  关键结论 (Key Takeaway) YOLOv12是首个以注意力机制为核心的实时目标检测模型，它通过引入区域注意力（A²）机制和残差高效层聚合网络（R-...</div></div></div></a><a class="pagination-related" href="/2026/02/08/Paper/YOLOv26/" title="YOLOv26技术文档"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-02-08</div><div class="info-item-2">YOLOv26技术文档</div></div><div class="info-2"><div class="info-item-1">[TOC] 核心摘要   范式变革: YOLO26是全新一代实时目标检测模型，代表了目标检测技术的范式性变革。   核心创新: 首次实现&quot;原生端到端无NMS&quot;推理，移除了非极大值抑制后处理步骤，提升了速度与稳定性。   性能卓越: 通过HyperACE和FullPAD等创新架构，显著提升了模型对高阶语义关联的建模能力。   YOLO26是Ultralytics团队于2025年9月发布、2026年1月正式开源的全新一代实时目标检测模型，它代表了目标检测技术的范式性变革。与前代YOLO系列相比，YOLO26彻底移除了非极大值抑制（NMS）这一后处理步骤，首次实现了&quot;原生端到端无NMS&quot;的推理能力，同时保留了轻量级设计和高效训练策略。这一突破不仅解决了NMS带来的延迟不稳定性与超参敏感问题，还通过HyperACE（超图自适应相关性增强）和FullPAD（全流程聚合与分发）两大创新架构，显著提升了模型对高阶语义关联的建模能力，尤其在复杂场景下表现优异。此外，YOLO26还引入了STAL（空间-尺度自适应标签分配）和ProgLoss（渐进式损失平衡）...</div></div></div></a><a class="pagination-related" href="/2024/11/05/Paper/GraphSAGE_Inductive%20Representation%20Learning%20on%20Large%20Graphs/" title="Graph SAGE: Inductive Representation Learning on Large Graphs"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-05</div><div class="info-item-2">Graph SAGE: Inductive Representation Learning on Large Graphs</div></div><div class="info-2"><div class="info-item-1">Inductive Representation Learning on Large Graphs </div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/admin_head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">神火不知灭</div><div class="author-info-description">日常记录学习用博客，仅用来练习使用</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">64</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">64</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/dollarser"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">技术笔记，日常记录</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#YOLO-%E7%AE%80%E5%8F%B2"><span class="toc-number">1.</span> <span class="toc-text">YOLO 简史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#YOLOv1%EF%BC%88You-Only-Look-Once%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">YOLOv1（You Only Look Once）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-number">2.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.</span> <span class="toc-text">2. 网络结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%A2%84%E6%B5%8B%E6%9C%BA%E5%88%B6"><span class="toc-number">2.3.</span> <span class="toc-text">3. 预测机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E7%BD%91%E6%A0%BC%E5%88%92%E5%88%86"><span class="toc-number">2.3.1.</span> <span class="toc-text">3.1 网格划分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E8%BE%B9%E7%95%8C%E6%A1%86%E9%A2%84%E6%B5%8B"><span class="toc-number">2.3.2.</span> <span class="toc-text">3.2 边界框预测</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-%E7%B1%BB%E5%88%AB%E9%A2%84%E6%B5%8B"><span class="toc-number">2.3.3.</span> <span class="toc-text">3.3 类别预测</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-%E6%9C%80%E7%BB%88%E6%A3%80%E6%B5%8B%E7%BB%93%E6%9E%9C"><span class="toc-number">2.3.4.</span> <span class="toc-text">3.4 最终检测结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.</span> <span class="toc-text">4. 损失函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90"><span class="toc-number">2.5.</span> <span class="toc-text">5. 优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="toc-number">2.5.1.</span> <span class="toc-text">优点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A"><span class="toc-number">2.5.2.</span> <span class="toc-text">缺点：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%AE%9E%E9%AA%8C%E4%B8%8E%E6%80%A7%E8%83%BD%EF%BC%88PASCAL-VOC-2007%EF%BC%89"><span class="toc-number">2.6.</span> <span class="toc-text">6. 实验与性能（PASCAL VOC 2007）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%80%BB%E7%BB%93"><span class="toc-number">2.7.</span> <span class="toc-text">7. 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#YOLOv2%EF%BC%88You-Only-Look-Once-v2%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">YOLOv2（You Only Look Once v2）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-2"><span class="toc-number">3.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%B8%E5%BF%83%E6%94%B9%E8%BF%9B"><span class="toc-number">3.2.</span> <span class="toc-text">2. 核心改进</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84%EF%BC%9ADarknet-19"><span class="toc-number">3.3.</span> <span class="toc-text">3. 网络结构：Darknet-19</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Anchor-Boxes-%E4%B8%8E%E8%BE%B9%E7%95%8C%E6%A1%86%E9%A2%84%E6%B5%8B"><span class="toc-number">3.4.</span> <span class="toc-text">4. Anchor Boxes 与边界框预测</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-Anchor-%E8%AE%BE%E8%AE%A1"><span class="toc-number">3.4.1.</span> <span class="toc-text">4.1 Anchor 设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-%E8%BE%B9%E7%95%8C%E6%A1%86%E9%A2%84%E6%B5%8B%E6%96%B9%E5%BC%8F"><span class="toc-number">3.4.2.</span> <span class="toc-text">4.2 边界框预测方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%A4%9A%E5%B0%BA%E5%BA%A6%E8%AE%AD%E7%BB%83%EF%BC%88Multi-Scale-Training%EF%BC%89"><span class="toc-number">3.5.</span> <span class="toc-text">5. 多尺度训练（Multi-Scale Training）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-YOLO9000%EF%BC%9A%E8%81%94%E5%90%88%E8%AE%AD%E7%BB%83%E6%A3%80%E6%B5%8B%E4%B8%8E%E5%88%86%E7%B1%BB"><span class="toc-number">3.6.</span> <span class="toc-text">6. YOLO9000：联合训练检测与分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0"><span class="toc-number">3.7.</span> <span class="toc-text">7. 损失函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94%EF%BC%88PASCAL-VOC-2007%EF%BC%89"><span class="toc-number">3.8.</span> <span class="toc-text">8. 性能对比（PASCAL VOC 2007）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90"><span class="toc-number">3.9.</span> <span class="toc-text">9. 优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A-2"><span class="toc-number">3.9.1.</span> <span class="toc-text">优点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A-2"><span class="toc-number">3.9.2.</span> <span class="toc-text">缺点：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E6%80%BB%E7%BB%93"><span class="toc-number">3.10.</span> <span class="toc-text">10. 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#YOLOv3%EF%BC%88You-Only-Look-Once-v3%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">YOLOv3（You Only Look Once v3）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-3"><span class="toc-number">4.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%B8%E5%BF%83%E6%94%B9%E8%BF%9B-2"><span class="toc-number">4.2.</span> <span class="toc-text">2. 核心改进</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84%EF%BC%9ADarknet-53"><span class="toc-number">4.3.</span> <span class="toc-text">3. 网络结构：Darknet-53</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%A4%9A%E5%B0%BA%E5%BA%A6%E9%A2%84%E6%B5%8B%E6%9C%BA%E5%88%B6"><span class="toc-number">4.4.</span> <span class="toc-text">4. 多尺度预测机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E5%BE%81%E8%9E%8D%E5%90%88%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-number">4.4.1.</span> <span class="toc-text">特征融合方式：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Anchor-Boxes-%E4%B8%8E%E8%BE%93%E5%87%BA%E8%AE%BE%E8%AE%A1"><span class="toc-number">4.5.</span> <span class="toc-text">5. Anchor Boxes 与输出设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%B1%BB%E5%88%AB%E9%A2%84%E6%B5%8B%EF%BC%9A%E5%A4%9A%E6%A0%87%E7%AD%BE%E5%88%86%E7%B1%BB"><span class="toc-number">4.6.</span> <span class="toc-text">6. 类别预测：多标签分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0-2"><span class="toc-number">4.7.</span> <span class="toc-text">7. 损失函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%80%A7%E8%83%BD%E8%A1%A8%E7%8E%B0%EF%BC%88COCO-test-dev%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">8. 性能表现（COCO test-dev）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90-2"><span class="toc-number">5.1.</span> <span class="toc-text">9. 优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A-3"><span class="toc-number">5.1.1.</span> <span class="toc-text">优点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A-3"><span class="toc-number">5.1.2.</span> <span class="toc-text">缺点：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E6%80%BB%E7%BB%93-2"><span class="toc-number">5.2.</span> <span class="toc-text">10. 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#YOLOv4%EF%BC%88You-Only-Look-Once-v4%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">YOLOv4（You Only Look Once v4）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-4"><span class="toc-number">6.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%B8%E5%BF%83%E8%B4%A1%E7%8C%AE"><span class="toc-number">6.2.</span> <span class="toc-text">2. 核心贡献</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E7%B3%BB%E7%BB%9F%E6%80%A7%E5%AE%9E%E9%AA%8C%E9%AA%8C%E8%AF%81"><span class="toc-number">6.2.1.</span> <span class="toc-text">2.1 系统性实验验证</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E9%AB%98%E6%95%88%E9%AA%A8%E5%B9%B2%E7%BD%91%E7%BB%9C%EF%BC%9ACSPDarknet53"><span class="toc-number">6.2.2.</span> <span class="toc-text">2.2 高效骨干网络：CSPDarknet53</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E6%94%B9%E8%BF%9B%E7%9A%84%E6%A3%80%E6%B5%8B%E5%A4%B4%EF%BC%9APANet-SPP"><span class="toc-number">6.2.3.</span> <span class="toc-text">2.3 改进的检测头：PANet + SPP</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84"><span class="toc-number">6.3.</span> <span class="toc-text">3. 网络架构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA"><span class="toc-number">6.3.1.</span> <span class="toc-text">输入与输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3"><span class="toc-number">6.4.</span> <span class="toc-text">4. 关键技术详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-CSPDarknet53"><span class="toc-number">6.4.1.</span> <span class="toc-text">4.1 CSPDarknet53</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-SPP-%E6%A8%A1%E5%9D%97"><span class="toc-number">6.4.2.</span> <span class="toc-text">4.2 SPP 模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-PANet-%E7%89%B9%E5%BE%81%E8%9E%8D%E5%90%88"><span class="toc-number">6.4.3.</span> <span class="toc-text">4.3 PANet 特征融合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-Mosaic-%E6%95%B0%E6%8D%AE%E5%A2%9E%E5%BC%BA"><span class="toc-number">6.4.4.</span> <span class="toc-text">4.4 Mosaic 数据增强</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-5-CIoU-Loss"><span class="toc-number">6.4.5.</span> <span class="toc-text">4.5 CIoU Loss</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-6-Self-Adversarial-Training%EF%BC%88SAT%EF%BC%89"><span class="toc-number">6.4.6.</span> <span class="toc-text">4.6 Self-Adversarial Training（SAT）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E8%AE%AD%E7%BB%83%E7%AD%96%E7%95%A5"><span class="toc-number">6.5.</span> <span class="toc-text">5. 训练策略</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%80%A7%E8%83%BD%E8%A1%A8%E7%8E%B0%EF%BC%88COCO-test-dev%EF%BC%89"><span class="toc-number">6.6.</span> <span class="toc-text">6. 性能表现（COCO test-dev）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90"><span class="toc-number">6.7.</span> <span class="toc-text">7. 优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A-4"><span class="toc-number">6.7.1.</span> <span class="toc-text">优点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A-4"><span class="toc-number">6.7.2.</span> <span class="toc-text">缺点：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-YOLOv4-%E5%8F%98%E4%BD%93"><span class="toc-number">6.8.</span> <span class="toc-text">8. YOLOv4 变体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E6%80%BB%E7%BB%93"><span class="toc-number">6.9.</span> <span class="toc-text">9. 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#YOLOv5%EF%BC%88You-Only-Look-Once-v5%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">YOLOv5（You Only Look Once v5）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-5"><span class="toc-number">7.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%B8%E5%BF%83%E7%89%B9%E7%82%B9"><span class="toc-number">7.2.</span> <span class="toc-text">2. 核心特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84-2"><span class="toc-number">7.3.</span> <span class="toc-text">3. 网络架构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-Backbone%EF%BC%9A%E5%A2%9E%E5%BC%BA-CSPNet"><span class="toc-number">7.3.1.</span> <span class="toc-text">3.1 Backbone：增强 CSPNet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-Neck%EF%BC%9APAN-FPN"><span class="toc-number">7.3.2.</span> <span class="toc-text">3.2 Neck：PAN-FPN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-Head%EF%BC%9AAnchor-Based-%E6%A3%80%E6%B5%8B%E5%A4%B4"><span class="toc-number">7.3.3.</span> <span class="toc-text">3.3 Head：Anchor-Based 检测头</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%A8%A1%E5%9E%8B%E7%B3%BB%E5%88%97%EF%BC%88Scale-Variants%EF%BC%89"><span class="toc-number">7.4.</span> <span class="toc-text">4. 模型系列（Scale Variants）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E8%AE%AD%E7%BB%83%E4%B8%8E%E6%8E%A8%E7%90%86%E4%BC%98%E5%8C%96"><span class="toc-number">7.5.</span> <span class="toc-text">5. 训练与推理优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-%E6%95%B0%E6%8D%AE%E5%A2%9E%E5%BC%BA"><span class="toc-number">7.5.1.</span> <span class="toc-text">5.1 数据增强</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-%E8%87%AA%E5%8A%A8%E8%B6%85%E5%8F%82%E8%B0%83%E4%BC%98"><span class="toc-number">7.5.2.</span> <span class="toc-text">5.2 自动超参调优</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-%E8%87%AA%E5%8A%A8-Anchor-%E4%BC%98%E5%8C%96"><span class="toc-number">7.5.3.</span> <span class="toc-text">5.3 自动 Anchor 优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-%E6%8E%A8%E7%90%86%E5%8A%A0%E9%80%9F"><span class="toc-number">7.5.4.</span> <span class="toc-text">5.4 推理加速</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94%EF%BC%88COCO-val2017%EF%BC%89"><span class="toc-number">7.6.</span> <span class="toc-text">6. 性能对比（COCO val2017）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90-2"><span class="toc-number">7.7.</span> <span class="toc-text">7. 优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A-5"><span class="toc-number">7.7.1.</span> <span class="toc-text">优点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A-5"><span class="toc-number">7.7.2.</span> <span class="toc-text">缺点：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E6%80%BB%E7%BB%93-2"><span class="toc-number">7.8.</span> <span class="toc-text">9. 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#YOLOv6%EF%BC%88You-Only-Look-Once-v6%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">YOLOv6（You Only Look Once v6）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-6"><span class="toc-number">8.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%B8%E5%BF%83%E5%88%9B%E6%96%B0"><span class="toc-number">8.2.</span> <span class="toc-text">2. 核心创新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84-3"><span class="toc-number">8.3.</span> <span class="toc-text">3. 网络架构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-Backbone%EF%BC%9AEfficientRep-CSPBep"><span class="toc-number">8.3.1.</span> <span class="toc-text">3.1 Backbone：EfficientRep &#x2F; CSPBep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-Neck%EF%BC%9ARep-PAN"><span class="toc-number">8.3.2.</span> <span class="toc-text">3.2 Neck：Rep-PAN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-Head%EF%BC%9AAnchor-Free"><span class="toc-number">8.3.3.</span> <span class="toc-text">3.3 Head：Anchor-Free</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3-2"><span class="toc-number">8.4.</span> <span class="toc-text">4. 关键技术详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E7%BB%93%E6%9E%84%E9%87%8D%E5%8F%82%E6%95%B0%E5%8C%96%EF%BC%88Reparameterization%EF%BC%89"><span class="toc-number">8.4.1.</span> <span class="toc-text">4.1 结构重参数化（Reparameterization）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-SimOTA-%E6%A0%87%E7%AD%BE%E5%88%86%E9%85%8D"><span class="toc-number">8.4.2.</span> <span class="toc-text">4.2 SimOTA 标签分配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-%E8%87%AA%E8%92%B8%E9%A6%8F%EF%BC%88Self-Distillation%EF%BC%89"><span class="toc-number">8.4.3.</span> <span class="toc-text">4.3 自蒸馏（Self-Distillation）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-%E7%A1%AC%E4%BB%B6%E6%84%9F%E7%9F%A5%E4%BC%98%E5%8C%96"><span class="toc-number">8.4.4.</span> <span class="toc-text">4.4 硬件感知优化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%A8%A1%E5%9E%8B%E7%B3%BB%E5%88%97"><span class="toc-number">8.5.</span> <span class="toc-text">5. 模型系列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94%EF%BC%88COCO-val2017%EF%BC%89-2"><span class="toc-number">8.6.</span> <span class="toc-text">6. 性能对比（COCO val2017）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90-3"><span class="toc-number">8.7.</span> <span class="toc-text">7. 优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A-6"><span class="toc-number">8.7.1.</span> <span class="toc-text">优点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A-6"><span class="toc-number">8.7.2.</span> <span class="toc-text">缺点：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E6%80%BB%E7%BB%93-3"><span class="toc-number">8.8.</span> <span class="toc-text">9. 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#YOLOv7%EF%BC%88You-Only-Look-Once-v7%EF%BC%89"><span class="toc-number">9.</span> <span class="toc-text">YOLOv7（You Only Look Once v7）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-7"><span class="toc-number">9.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%B8%E5%BF%83%E5%88%9B%E6%96%B0-2"><span class="toc-number">9.2.</span> <span class="toc-text">2. 核心创新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84-4"><span class="toc-number">9.3.</span> <span class="toc-text">3. 网络架构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-Backbone%EF%BC%9AModified-CSPDarknet-E-ELAN"><span class="toc-number">9.3.1.</span> <span class="toc-text">3.1 Backbone：Modified CSPDarknet + E-ELAN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-Neck%EF%BC%9A%E6%94%B9%E8%BF%9B-PANet"><span class="toc-number">9.3.2.</span> <span class="toc-text">3.2 Neck：改进 PANet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-Head%EF%BC%9AAnchor-Based-%E5%A4%9A%E5%B0%BA%E5%BA%A6%E8%BE%93%E5%87%BA"><span class="toc-number">9.3.3.</span> <span class="toc-text">3.3 Head：Anchor-Based 多尺度输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3-3"><span class="toc-number">9.4.</span> <span class="toc-text">4. 关键技术详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E5%8F%AF%E8%AE%AD%E7%BB%83%E7%9A%84-Bag-of-Freebies%EF%BC%88Trainable-BoF%EF%BC%89"><span class="toc-number">9.4.1.</span> <span class="toc-text">4.1 可训练的 Bag-of-Freebies（Trainable BoF）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-Coarse-to-Fine-%E5%8A%A8%E6%80%81%E6%A0%87%E7%AD%BE%E5%88%86%E9%85%8D"><span class="toc-number">9.4.2.</span> <span class="toc-text">4.2 Coarse-to-Fine 动态标签分配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-%E6%A8%A1%E5%9E%8B%E7%BC%A9%E6%94%BE%E7%AD%96%E7%95%A5%EF%BC%88Model-Scaling%EF%BC%89"><span class="toc-number">9.4.3.</span> <span class="toc-text">4.3 模型缩放策略（Model Scaling）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-%E8%BE%85%E5%8A%A9%E8%AE%AD%E7%BB%83%E5%A4%B4%EF%BC%88Auxiliary-Head%EF%BC%89"><span class="toc-number">9.4.4.</span> <span class="toc-text">4.4 辅助训练头（Auxiliary Head）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%A8%A1%E5%9E%8B%E7%B3%BB%E5%88%97%E4%B8%8E%E6%80%A7%E8%83%BD%EF%BC%88COCO-test-dev%EF%BC%89"><span class="toc-number">9.5.</span> <span class="toc-text">5. 模型系列与性能（COCO test-dev）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E8%AE%AD%E7%BB%83%E7%AD%96%E7%95%A5"><span class="toc-number">9.6.</span> <span class="toc-text">6. 训练策略</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90-4"><span class="toc-number">9.7.</span> <span class="toc-text">7. 优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A-7"><span class="toc-number">9.7.1.</span> <span class="toc-text">优点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A-7"><span class="toc-number">9.7.2.</span> <span class="toc-text">缺点：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E6%80%BB%E7%BB%93"><span class="toc-number">9.8.</span> <span class="toc-text">8. 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#YOLOv8%EF%BC%88You-Only-Look-Once-v8%EF%BC%89"><span class="toc-number">10.</span> <span class="toc-text">YOLOv8（You Only Look Once v8）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-8"><span class="toc-number">10.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%B8%E5%BF%83%E5%88%9B%E6%96%B0-3"><span class="toc-number">10.2.</span> <span class="toc-text">2. 核心创新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84%EF%BC%88%E6%A3%80%E6%B5%8B%E4%BB%BB%E5%8A%A1%EF%BC%89"><span class="toc-number">10.3.</span> <span class="toc-text">3. 网络架构（检测任务）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-Backbone%EF%BC%9A%E6%94%B9%E8%BF%9B-CSPDarknet"><span class="toc-number">10.3.1.</span> <span class="toc-text">3.1 Backbone：改进 CSPDarknet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-Neck%EF%BC%9APAN-FPN-%E5%A2%9E%E5%BC%BA%E7%89%88"><span class="toc-number">10.3.2.</span> <span class="toc-text">3.2 Neck：PAN-FPN 增强版</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-Head%EF%BC%9A%E8%A7%A3%E8%80%A6-Anchor-Free"><span class="toc-number">10.3.3.</span> <span class="toc-text">3.3 Head：解耦 Anchor-Free</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3-4"><span class="toc-number">10.4.</span> <span class="toc-text">4. 关键技术详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-Task-Aligned-Assigner-TAL"><span class="toc-number">10.4.1.</span> <span class="toc-text">4.1 Task-Aligned Assigner (TAL)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-Distribution-Focal-Loss-DFL"><span class="toc-number">10.4.2.</span> <span class="toc-text">4.2 Distribution Focal Loss (DFL)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-%E5%A4%9A%E4%BB%BB%E5%8A%A1%E7%BB%9F%E4%B8%80%E8%AE%BE%E8%AE%A1"><span class="toc-number">10.4.3.</span> <span class="toc-text">4.3 多任务统一设计</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%A8%A1%E5%9E%8B%E7%B3%BB%E5%88%97%EF%BC%88COCO-val2017%EF%BC%89"><span class="toc-number">10.5.</span> <span class="toc-text">5. 模型系列（COCO val2017）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%A4%9A%E4%BB%BB%E5%8A%A1%E6%80%A7%E8%83%BD%E4%BA%AE%E7%82%B9"><span class="toc-number">10.6.</span> <span class="toc-text">6. 多任务性能亮点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%88%86%E5%89%B2%EF%BC%88COCO-val%EF%BC%89"><span class="toc-number">10.6.1.</span> <span class="toc-text">实例分割（COCO val）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A7%BF%E6%80%81%E4%BC%B0%E8%AE%A1%EF%BC%88COCO-val%EF%BC%89"><span class="toc-number">10.6.2.</span> <span class="toc-text">姿态估计（COCO val）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB%EF%BC%88ImageNet-1k%EF%BC%89"><span class="toc-number">10.6.3.</span> <span class="toc-text">图像分类（ImageNet-1k）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90"><span class="toc-number">10.7.</span> <span class="toc-text">8. 优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%8A%BF"><span class="toc-number">10.7.1.</span> <span class="toc-text">优势</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%80%E9%99%90"><span class="toc-number">10.7.2.</span> <span class="toc-text">局限</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E4%B8%8E-YOLO-%E7%B3%BB%E5%88%97%E5%AF%B9%E6%AF%94"><span class="toc-number">10.8.</span> <span class="toc-text">9. 与 YOLO 系列对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E6%80%BB%E7%BB%93-3"><span class="toc-number">10.9.</span> <span class="toc-text">10. 总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">11.</span> <span class="toc-text">YOLOv9（You Only Look Once v9）技术文档</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0-9"><span class="toc-number">11.1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%A0%B8%E5%BF%83%E5%88%9B%E6%96%B0-4"><span class="toc-number">11.2.</span> <span class="toc-text">2. 核心创新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84-5"><span class="toc-number">11.3.</span> <span class="toc-text">3. 网络架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%95%B4%E4%BD%93%E6%A1%86%E6%9E%B6"><span class="toc-number">11.3.1.</span> <span class="toc-text">3.1 整体框架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Backbone%EF%BC%9AGELAN"><span class="toc-number">11.3.2.</span> <span class="toc-text">3.2 Backbone：GELAN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-PGI-%E8%BE%85%E5%8A%A9%E8%B7%AF%E5%BE%84%EF%BC%88%E8%AE%AD%E7%BB%83%E4%B8%93%E5%B1%9E%EF%BC%89"><span class="toc-number">11.3.3.</span> <span class="toc-text">3.3 PGI 辅助路径（训练专属）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-Neck-%E4%B8%8E-Head"><span class="toc-number">11.3.4.</span> <span class="toc-text">3.4 Neck 与 Head</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF%E8%AF%A6%E8%A7%A3-5"><span class="toc-number">11.4.</span> <span class="toc-text">4. 关键技术详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%8F%AF%E7%BC%96%E7%A8%8B%E6%A2%AF%E5%BA%A6%E4%BF%A1%E6%81%AF%EF%BC%88PGI%EF%BC%89"><span class="toc-number">11.4.1.</span> <span class="toc-text">4.1 可编程梯度信息（PGI）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-GELAN-%E6%9E%B6%E6%9E%84%E4%BC%98%E5%8A%BF"><span class="toc-number">11.4.2.</span> <span class="toc-text">4.2 GELAN 架构优势</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E6%A8%A1%E5%9E%8B%E7%BC%A9%E6%94%BE%E7%AD%96%E7%95%A5"><span class="toc-number">11.4.3.</span> <span class="toc-text">4.3 模型缩放策略</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%80%A7%E8%83%BD%E8%A1%A8%E7%8E%B0%EF%BC%88COCO-test-dev%EF%BC%89"><span class="toc-number">11.5.</span> <span class="toc-text">5. 性能表现（COCO test-dev）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%EF%BC%88COCO-AP%E2%82%9B%EF%BC%89"><span class="toc-number">11.5.1.</span> <span class="toc-text">小目标检测（COCO APₛ）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VisDrone2019%EF%BC%88%E6%97%A0%E4%BA%BA%E6%9C%BA%E5%9C%BA%E6%99%AF%EF%BC%89"><span class="toc-number">11.5.2.</span> <span class="toc-text">VisDrone2019（无人机场景）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E8%AE%AD%E7%BB%83%E4%B8%8E%E9%83%A8%E7%BD%B2"><span class="toc-number">11.6.</span> <span class="toc-text">6. 训练与部署</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%AD%E7%BB%83%E7%AD%96%E7%95%A5"><span class="toc-number">11.6.1.</span> <span class="toc-text">训练策略</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90-5"><span class="toc-number">11.7.</span> <span class="toc-text">7. 优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8A%BF-2"><span class="toc-number">11.7.1.</span> <span class="toc-text">优势</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%80%E9%99%90-2"><span class="toc-number">11.7.2.</span> <span class="toc-text">局限</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E4%B8%8E-YOLO-%E7%B3%BB%E5%88%97%E6%BC%94%E8%BF%9B%E5%AF%B9%E6%AF%94"><span class="toc-number">11.8.</span> <span class="toc-text">9. 与 YOLO 系列演进对比</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%80%BB%E7%BB%93-4"><span class="toc-number">11.9.</span> <span class="toc-text">10. 总结</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/12/Python/Claude_Code/" title="Claude Code应用指南">Claude Code应用指南</a><time datetime="2026-02-12T09:30:00.000Z" title="Created 2026-02-12 17:30:00">2026-02-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/12/Python/MuSGD/" title="MuSGD优化器">MuSGD优化器</a><time datetime="2026-02-12T09:00:00.000Z" title="Created 2026-02-12 17:00:00">2026-02-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/11/Python/pytorch-%E5%B8%B8%E7%94%A8%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0/" title="深度学习常用损失函数">深度学习常用损失函数</a><time datetime="2026-02-11T10:00:00.000Z" title="Created 2026-02-11 18:00:00">2026-02-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/10/Python/%E4%BD%8E%E7%A7%A9%E8%BF%91%E4%BC%BC/" title="矩阵相关">矩阵相关</a><time datetime="2026-02-10T10:00:00.000Z" title="Created 2026-02-10 18:00:00">2026-02-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/10/Python/Muon%E4%BC%98%E5%8C%96%E5%99%A8/" title="Muon优化器">Muon优化器</a><time datetime="2026-02-10T09:00:00.000Z" title="Created 2026-02-10 17:00:00">2026-02-10</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By 神火不知灭</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.1.1</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.4</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.4"></script><script src="/js/main.js?v=5.5.4"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex@0.16.28/dist/katex.min.css')
    if (true) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex@0.16.28/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>